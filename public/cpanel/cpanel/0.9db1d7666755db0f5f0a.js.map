{"version":3,"sources":["webpack:///0.9db1d7666755db0f5f0a.js","webpack:///nav-bar.vue?c024","webpack:///./src/components/nav-bar.vue?7820","webpack:///./src/components/nav-bar.vue?a76f","webpack:///./src/views/shop.vue","webpack:///vue-china-city.vue","webpack:///shop.vue","webpack:///./src/components/vue-china-city.vue?0e41","webpack:///./src/views/shop.vue?346b","webpack:///./src/components/vue-china-city.vue"],"names":["webpackJsonp",1,"module","exports","Object","defineProperty","value","methods","GoBack","this","$route","router","go","window","history","back",2,3,"__webpack_require__","__vue_script__","__vue_template__","__esModule","options","template",58,68,"props","data","areas","provinces","cities","districts","ready","$http","get","then","response","$set","showAlert","error","watch","province","val","oldVal","province_id","city","city_id",81,"_actions","vuex","getters","isLogged","state","merchant","access_token","actions","showLoading","hideLoading","showHandleTip","shop","name","district","street","avatar","mobile","meals","pay_methods","full_free_courier","route","transition","inputFileClick","e","$els","click","uploadAvatar","formData","FormData","append","files","put","update","i","length","j","components","nav-bar","vue-china-city",97,110,118],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,cACEI,SACEC,OAAQ,WACNC,KAAKC,OAAOC,OAAOC,GAAGC,OAAOC,QCGpCC,YDIMC,EACA,SAASd,EAAQC,GErBvBD,EAAAC,QAAA,qOF2BMc,EACA,SAASf,EAAQC,EAASe,GG5BhC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,GACAE,EAAAF,EAAA,GACAhB,EAAAC,QAAAgB,MACAjB,EAAAC,QAAAkB,aAAAnB,EAAAC,QAAAD,EAAAC,QAAAD,YACAkB,KACA,kBAAAlB,GAAAC,QAAAD,EAAAC,QAAAmB,UAAApB,EAAAC,QAAAmB,YAA+FpB,EAAAC,SAAAoB,SAAAH,IHoCzFI,GACA,SAAStB,EAAQC,EAASe,GI3ChC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,IACAE,EAAAF,EAAA,KACAhB,EAAAC,QAAAgB,MACAjB,EAAAC,QAAAkB,aAAAnB,EAAAC,QAAAD,EAAAC,QAAAD,YACAkB,KACA,kBAAAlB,GAAAC,QAAAD,EAAAC,QAAAmB,UAAApB,EAAAC,QAAAmB,YAA+FpB,EAAAC,SAAAoB,SAAAH,IJmDzFK,GACA,SAASvB,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,cACEuB,OAAQ,WAAY,OK5CvB,YL6CGC,KAAM,WACJ,OACEC,OACEC,aACAC,UACAC,gBAINC,MAAO,WACLvB,KAAKwB,MAAMC,IAAI,iDAAiDC,KAAK,SAAUC,GAC7E3B,KAAK4B,KAAK,kBAAmBD,EAAST,KK5C7CC,QL6CQ,SAAUQ,GACX3B,KAAK6B,UAAUF,EAAST,KK1C/BY,UL8CGC,OACEC,SAAU,SAAkBC,EAAKC,GAC/BlC,KAAKwB,MAAMC,IAAI,8CAAgDU,YAAanC,KAAKgC,WAAYN,KAAK,SAAUC,GAC1G3B,KAAKmB,MAAME,OAASM,EAAST,KK7CtCC,OL8CU,SAAUQ,GACX3B,KAAK6B,UAAUF,EAAST,KK3CjCY,UL8CKM,KAAM,SAAcH,EAAKC,GACvBlC,KAAKwB,MAAMC,IAAI,iDAAmDY,QAASrC,KAAKoC,OAAQV,KAAK,SAAUC,GACrG3B,KAAKmB,MAAMG,UAAYK,EAAST,KK7CzCC,OL8CU,SAAUQ,GACX3B,KAAK6B,UAAUF,EAAST,KK1CjCY,aLkDMQ,GACA,SAAS7C,EAAQC,EAASe,GAE/B,YAEAd,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,GMGV,IAAA0C,GAAA9B,EAAA,ENECf,eACE8C,MACEC,SACEC,SAAU,SAAkBC,GAC1B,MAAOA,GAAMC,SMFtBF,UNIOG,aAAc,SAAsBF,GAClC,MAAOA,GAAMC,SAASA,SMH/BC,eNMKC,SMJLjB,UAAAU,EAAAV,UACAkB,YAAAR,EAAAQ,YACAC,YAAAT,EAAAS,YAGAC,cAAAV,EAAAU,gBNMG/B,KAAM,WACJ,OACEgC,MACEC,KMLT,GNMSnB,SMLT,GNMSI,KMLT,GNMSgB,SMLT,GNMSC,OMLT,GNMSC,OMLT,GNMSC,OMLT,GNMSC,SACAC,eACAC,kBMFT,KNOGC,OACEzC,KAAM,SAAc0C,GAClB5D,KMNP+C,cNOO/C,KAAKwB,MAAMC,IAAI,+CAAiDoB,aAAc7C,KAAK6C,eAAgBnB,KAAK,SAAUC,GAChH3B,KAAK4B,KAAK,OAAQD,EMN3BT,ONOU,SAAUS,GACX3B,KAAK6B,UAAUF,EAAST,KMLjCY,SNOO9B,KMJPgD,gBNOGlD,SACE+D,eAAgB,SAAwBC,GACtC,MAAO9D,MAAK+D,KAAKT,OMLxBU,SNOKC,aAAc,WAEZ,GADAjE,KMNP+C,cNOsC,KAA3B/C,KAAK+D,KAAKT,OAAOzD,MAArB,CACA,GAAIqE,GAAW,GMNtBC,SNOOD,GAASE,OAAO,eAAgBpE,KMNvC6C,cNOOqB,EAASE,OAAO,eAAgBpE,KAAK+D,KAAKT,OAAOe,MMLxD,INOOrE,KAAKwB,MAAM8C,IAAI,0CAA2CJ,GAAUxC,KAAK,SAAUC,GACjF3B,KAAK4B,KAAK,OAAQD,EAAST,KMNpCgC,ONOU,SAAUvB,GACX3B,KAAK6B,UAAUF,EAAST,KMLjCY,SNOO9B,KMLPgD,gBNOKuB,OAAQ,WACNvE,KMLP+C,aNOO,IAAImB,GAAW,GMNtBC,SNOOD,GAASE,OAAO,eAAgBpE,KMLvC6C,cNOOqB,EAASE,OAAO,aAAcpE,KAAKkD,KMN1CC,MNOOe,EAASE,OAAO,eAAgBpE,KAAKkD,KMN5CK,QNOOW,EAASE,OAAO,iBAAkBpE,KAAKkD,KMN9ClB,UNOOkC,EAASE,OAAO,aAAcpE,KAAKkD,KMN1Cd,MNOO8B,EAASE,OAAO,iBAAkBpE,KAAKkD,KMN9CE,UNOOc,EAASE,OAAO,eAAgBpE,KAAKkD,KMN5CG,QNOOa,EAASE,OAAO,0BAA2BpE,KAAKkD,KMNvDQ,kBNOO,KAAK,GAAIc,GAAI,EAAGA,EAAIxE,KAAKkD,KAAKM,MAAMiB,OAAQD,IAC1CN,EAASE,OAAO,gBAAiBpE,KAAKkD,KAAKM,MMLpDgB,GNOO,KAAK,GAAIE,GAAI,EAAGA,EAAI1E,KAAKkD,KAAKO,YAAYgB,OAAQC,IAChDR,EAASE,OAAO,sBAAuBpE,KAAKkD,KAAKO,YMJ1DiB,GNOO1E,MAAKwB,MAAM8C,IAAI,0CAA2CJ,GAAUxC,KAAK,SAAUC,GACjF3B,KAAK4B,KAAK,OAAQD,EAAST,KMNpCgC,MNOSlD,KMNTiD,iBNOU,SAAUtB,GACX3B,KAAK6B,UAAUF,EAAST,KMLjCY,SNOO9B,KMJPgD,gBNOG2B,YACEC,UAAWnE,EMNhB,GNOKoE,iBAAkBpE,EMLvB,QNWMqE,GACA,SAASrF,EAAQC,GOxNvBD,EAAAC,QAAA,mbP8NMqF,IACA,SAAStF,EAAQC,GQ/NvBD,EAAAC,QAAA,ggGRqOMsF,IACA,SAASvF,EAAQC,EAASe,GStOhC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,IACAE,EAAAF,EAAA,IACAhB,EAAAC,QAAAgB,MACAjB,EAAAC,QAAAkB,aAAAnB,EAAAC,QAAAD,EAAAC,QAAAD,YACAkB,KACA,kBAAAlB,GAAAC,QAAAD,EAAAC,QAAAmB,UAAApB,EAAAC,QAAAmB,YAA+FpB,EAAAC,SAAAoB,SAAAH","file":"0.9db1d7666755db0f5f0a.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  methods: {\n\t    GoBack: function GoBack() {\n\t      this.$route.router.go(window.history.back());\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"navbar navbar-light bg-faded navigation\\\"> <a class=\\\"nav-link btn btn-primary-outline btn-sm\\\" @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>\";\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(1)\n\t__vue_template__ = __webpack_require__(2)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 58:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(81)\n\t__vue_template__ = __webpack_require__(110)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 68:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['province', 'city', 'district'],\n\t  data: function data() {\n\t    return {\n\t      areas: {\n\t        provinces: {},\n\t        cities: {},\n\t        districts: {}\n\t      }\n\t    };\n\t  },\n\t  ready: function ready() {\n\t    this.$http.get('http://jiancan.me/api/m1/areas/provinces.json').then(function (response) {\n\t      this.$set('areas.provinces', response.data.areas);\n\t    }, function (response) {\n\t      this.showAlert(response.data.error);\n\t    });\n\t  },\n\t\n\t  watch: {\n\t    province: function province(val, oldVal) {\n\t      this.$http.get('http://jiancan.me/api/m1/areas/cities.json', { province_id: this.province }).then(function (response) {\n\t        this.areas.cities = response.data.areas;\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t    },\n\t    city: function city(val, oldVal) {\n\t      this.$http.get('http://jiancan.me/api/m1/areas/districts.json', { city_id: this.city }).then(function (response) {\n\t        this.areas.districts = response.data.areas;\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 81:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(4);\n\t\n\texports.default = {\n\t  vuex: {\n\t    getters: {\n\t      isLogged: function isLogged(state) {\n\t        return state.merchant.isLogged;\n\t      },\n\t      access_token: function access_token(state) {\n\t        return state.merchant.merchant.access_token;\n\t      }\n\t    },\n\t    actions: {\n\t      showAlert: _actions.showAlert,\n\t      showLoading: _actions.showLoading,\n\t      hideLoading: _actions.hideLoading,\n\t      showHandleTip: _actions.showHandleTip\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      shop: {\n\t        name: '',\n\t        province: '',\n\t        city: '',\n\t        district: '',\n\t        street: '',\n\t        avatar: '',\n\t        mobile: '',\n\t        meals: [],\n\t        pay_methods: [],\n\t        full_free_courier: 0\n\t      }\n\t    };\n\t  },\n\t\n\t  route: {\n\t    data: function data(transition) {\n\t      this.showLoading();\n\t      this.$http.get('http://jiancan.me/api/m1/shops/current.json', { access_token: this.access_token }).then(function (response) {\n\t        this.$set('shop', response.data);\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    }\n\t  },\n\t  methods: {\n\t    inputFileClick: function inputFileClick(e) {\n\t      return this.$els.avatar.click();\n\t    },\n\t    uploadAvatar: function uploadAvatar() {\n\t      this.showLoading();\n\t      if (this.$els.avatar.value === '') return;\n\t      var formData = new FormData();\n\t      formData.append('access_token', this.access_token);\n\t      formData.append('shop[avatar]', this.$els.avatar.files[0]);\n\t\n\t      this.$http.put('http://jiancan.me/api/m1/shops/one.json', formData).then(function (response) {\n\t        this.$set('shop', response.data.shop);\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    },\n\t    update: function update() {\n\t      this.showLoading();\n\t\n\t      var formData = new FormData();\n\t      formData.append('access_token', this.access_token);\n\t\n\t      formData.append('shop[name]', this.shop.name);\n\t      formData.append('shop[mobile]', this.shop.mobile);\n\t      formData.append('shop[province]', this.shop.province);\n\t      formData.append('shop[city]', this.shop.city);\n\t      formData.append('shop[district]', this.shop.district);\n\t      formData.append('shop[street]', this.shop.street);\n\t      formData.append('shop[full_free_courier]', this.shop.full_free_courier);\n\t      for (var i = 0; i < this.shop.meals.length; i++) {\n\t        formData.append('shop[meals][]', this.shop.meals[i]);\n\t      }\n\t      for (var j = 0; j < this.shop.pay_methods.length; j++) {\n\t        formData.append('shop[pay_methods][]', this.shop.pay_methods[j]);\n\t      }\n\t\n\t      this.$http.put('http://jiancan.me/api/m1/shops/one.json', formData).then(function (response) {\n\t        this.$set('shop', response.data.shop);\n\t        this.showHandleTip();\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    }\n\t  },\n\t  components: {\n\t    'nav-bar': __webpack_require__(3),\n\t    'vue-china-city': __webpack_require__(118)\n\t  }\n\t};\n\n/***/ },\n\n/***/ 97:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div> <select class=c-select v-model=province> <option v-for=\\\"p in areas.provinces\\\" track-by=$index v-bind:value=p[1]> {{p[0]}} </option> </select> <select class=c-select v-model=city> <option v-for=\\\"c in areas.cities\\\" track-by=$index v-bind:value=c[1]> {{c[0]}} </option> </select> <select class=c-select v-model=district> <option v-for=\\\"d in areas.districts\\\" track-by=$index v-bind:value=d[1]> {{d[0]}} </option> </select> </div>\";\n\n/***/ },\n\n/***/ 110:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<nav-bar> <span slot=title class=title>店铺管理</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=店铺头像 class=img-circle width=100 height=100 v-bind:src=shop.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td> <div class=content-form> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">店铺名称</label> <div class=col-sm-10> <input class=form-control placeholder=名称 type=text v-model=shop.name /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputPassword3 class=\\\"col-sm-2 form-control-label\\\">店铺电话</label> <div class=col-sm-10> <input class=form-control placeholder=电话 type=text v-model=shop.mobile /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputPassword3 class=\\\"col-sm-2 form-control-label\\\">店铺地区</label> <div class=col-sm-10> <div class=row> <div class=city-group style=padding-left:15px> <vue-china-city :province.sync=shop.province :city.sync=shop.city :district.sync=shop.district></vue-china-city> </div> </div> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">店铺地址</label> <div class=col-sm-10> <input class=form-control placeholder=地址 type=text v-model=shop.street /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">提供餐次</label> <div class=col-sm-10 style=line-height:38px> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=breakfast v-model=shop.meals /> <span class=c-indicator></span> 早餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=lunch v-model=shop.meals /> <span class=c-indicator></span> 中餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=afternoon_tea v-model=shop.meals /> <span class=c-indicator></span> 下午茶 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=supper v-model=shop.meals /> <span class=c-indicator></span> 晚餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=night_snack v-model=shop.meals /> <span class=c-indicator></span> 宵夜 </label> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">支付方式</label> <div class=col-sm-10 style=line-height:38px> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=online v-model=shop.pay_methods /> <span class=c-indicator></span> 线上付款 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=offline v-model=shop.pay_methods /> <span class=c-indicator></span> 线下付款 </label> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">满额免运</label> <div class=col-sm-10> <input class=form-control placeholder=满额免运费 type=text v-model=shop.full_free_courier /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\"></label> <div class=col-sm-10> <button @click=update class=\\\"btn btn-primary\\\">保 存</button> </div> </div> </div></td> </tr> </table>\";\n\n/***/ },\n\n/***/ 118:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(68)\n\t__vue_template__ = __webpack_require__(97)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 0.9db1d7666755db0f5f0a.js\n **/","<template>\n<div class=\"navbar navbar-light bg-faded navigation\">\n  <a class=\"nav-link btn btn-primary-outline btn-sm\" @click=\"GoBack\">\n    <i class=\"fa fa-arrow-left\"></i> 返回\n  </a>\n  <slot name=\"title\"></slot>\n  <slot name=\"right-content\"></slot>\n</div>\n</template>\n<script>\n  export default {\n    methods: {\n      GoBack () {\n        this.$route.router.go(window.history.back())\n      }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** nav-bar.vue?666ab58b\n **/","module.exports = \"<div class=\\\"navbar navbar-light bg-faded navigation\\\"> <a class=\\\"nav-link btn btn-primary-outline btn-sm\\\" @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/nav-bar.vue\n ** module id = 2\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./nav-bar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./nav-bar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/nav-bar.vue\n ** module id = 3\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./shop.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./shop.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/shop.vue\n ** module id = 58\n ** module chunks = 0\n **/","<template>\n  <div>\n    <select class=\"c-select\" v-model=\"province\">\n      <option v-for=\"p in areas.provinces\" track-by=\"$index\" v-bind:value=\"p[1]\">\n        {{p[0]}}\n      </option>\n    </select>\n    <select class=\"c-select\" v-model=\"city\">\n      <option v-for=\"c in areas.cities\" track-by=\"$index\" v-bind:value=\"c[1]\">\n        {{c[0]}}\n      </option>\n    </select>\n    <select class=\"c-select\" v-model=\"district\">\n      <option v-for=\"d in areas.districts\" track-by=\"$index\" v-bind:value=\"d[1]\">\n        {{d[0]}}\n      </option>\n    </select>\n  </div>\n</template>\n<script>\n  export default {\n    props: ['province', 'city', 'district'],\n    data () {\n      return {\n        areas: {\n          provinces: {},\n          cities: {},\n          districts: {}\n        }\n      }\n    },\n    ready () {\n      this.$http.get('http://jiancan.me/api/m1/areas/provinces.json').then(function (response) {\n        this.$set('areas.provinces', response.data.areas)\n      }, function (response) {\n        this.showAlert(response.data.error)\n      })\n    },\n    watch: {\n      province (val, oldVal) {\n        this.$http.get('http://jiancan.me/api/m1/areas/cities.json', { province_id: this.province }).then(function (response) {\n          this.areas.cities = response.data.areas\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n      },\n      city (val, oldVal) {\n        this.$http.get('http://jiancan.me/api/m1/areas/districts.json', { city_id: this.city }).then(function (response) {\n          this.areas.districts = response.data.areas\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n      }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** vue-china-city.vue?0b787c9e\n **/","<template>\n<nav-bar>\n  <span slot=\"title\" class=\"title\">店铺管理</span>\n</nav-bar>\n<table class=\"table\">\n  <tr>\n    <td style=\"width:200px;padding-left:50px;\">\n      <img @click=\"inputFileClick\" alt=\"店铺头像\" class=\"img-circle\" width=\"100\" height=\"100\" v-bind:src=\"shop.avatar\" />\n      <input @change=\"uploadAvatar\" v-el:avatar class=\"avatar\" type=\"file\" accept=\"image/*\" style=\"display:none;\" />\n    </td>\n    <td>\n      <div class=\"content-form\">\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\">店铺名称</label>\n          <div class=\"col-sm-10\">\n            <input class=\"form-control\" placeholder=\"名称\" type=\"text\" v-model=\"shop.name\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputPassword3\" class=\"col-sm-2 form-control-label\">店铺电话</label>\n          <div class=\"col-sm-10\">\n            <input class=\"form-control\" placeholder=\"电话\" type=\"text\" v-model=\"shop.mobile\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputPassword3\" class=\"col-sm-2 form-control-label\">店铺地区</label>\n          <div class=\"col-sm-10\">\n            <div class=\"row\">\n              <div class=\"city-group\" style=\"padding-left:15px;\">\n                <vue-china-city :province.sync=\"shop.province\" :city.sync=\"shop.city\" :district.sync=\"shop.district\"></vue-china-city>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\">店铺地址</label>\n          <div class=\"col-sm-10\">\n            <input class=\"form-control\" placeholder=\"地址\" type=\"text\" v-model=\"shop.street\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\">提供餐次</label>\n          <div class=\"col-sm-10\" style=\"line-height:38px;\">\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"breakfast\" v-model=\"shop.meals\" />\n              <span class=\"c-indicator\"></span>\n              早餐\n            </label>\n\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"lunch\" v-model=\"shop.meals\" />\n              <span class=\"c-indicator\"></span>\n              中餐\n            </label>\n\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"afternoon_tea\" v-model=\"shop.meals\" />\n              <span class=\"c-indicator\"></span>\n              下午茶\n            </label>\n\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"supper\" v-model=\"shop.meals\" />\n              <span class=\"c-indicator\"></span>\n              晚餐\n            </label>\n\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"night_snack\" v-model=\"shop.meals\" />\n              <span class=\"c-indicator\"></span>\n              宵夜\n            </label>\n\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\">支付方式</label>\n          <div class=\"col-sm-10\" style=\"line-height:38px;\">\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"online\" v-model=\"shop.pay_methods\" />\n              <span class=\"c-indicator\"></span>\n              线上付款\n            </label>\n\n            <label class=\"c-input c-checkbox\">\n              <input type=\"checkbox\" value=\"offline\" v-model=\"shop.pay_methods\" />\n              <span class=\"c-indicator\"></span>\n              线下付款\n            </label>\n\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\">满额免运</label>\n          <div class=\"col-sm-10\">\n            <input class=\"form-control\" placeholder=\"满额免运费\" type=\"text\" v-model=\"shop.full_free_courier\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputEmail3\" class=\"col-sm-2 form-control-label\"></label>\n          <div class=\"col-sm-10\">\n            <button @click=\"update\" class=\"btn btn-primary\">保 存</button>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n\n</template>\n<script>\n  import { showAlert, showLoading, hideLoading, showHandleTip } from '../vuex/actions'\n\n  export default {\n    vuex: {\n      getters: {\n        isLogged: state => state.merchant.isLogged,\n        access_token: state => state.merchant.merchant.access_token\n      },\n      actions: {\n        showAlert,\n        showLoading,\n        hideLoading,\n        showHandleTip\n      }\n    },\n    data () {\n      return {\n        shop: {\n          name: '',\n          province: '',\n          city: '',\n          district: '',\n          street: '',\n          avatar: '',\n          mobile: '',\n          meals: [],\n          pay_methods: [],\n          full_free_courier: 0\n        }\n      }\n    },\n    route: {\n      data (transition) {\n        this.showLoading()\n        this.$http.get('http://jiancan.me/api/m1/shops/current.json', { access_token: this.access_token }).then(function (response) {\n          this.$set('shop', response.data)\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      }\n    },\n    methods: {\n      inputFileClick (e) {\n        return this.$els.avatar.click()\n      },\n      uploadAvatar () {\n        this.showLoading()\n        if (this.$els.avatar.value === '') return\n        var formData = new FormData()\n        formData.append('access_token', this.access_token)\n        formData.append('shop[avatar]', this.$els.avatar.files[0])\n\n        this.$http.put('http://jiancan.me/api/m1/shops/one.json', formData).then(function (response) {\n          this.$set('shop', response.data.shop)\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      },\n      update () {\n        this.showLoading()\n\n        var formData = new FormData()\n        formData.append('access_token', this.access_token)\n\n        formData.append('shop[name]', this.shop.name)\n        formData.append('shop[mobile]', this.shop.mobile)\n        formData.append('shop[province]', this.shop.province)\n        formData.append('shop[city]', this.shop.city)\n        formData.append('shop[district]', this.shop.district)\n        formData.append('shop[street]', this.shop.street)\n        formData.append('shop[full_free_courier]', this.shop.full_free_courier)\n        for (var i = 0; i < this.shop.meals.length; i++) {\n          formData.append('shop[meals][]', this.shop.meals[i])\n        }\n        for (var j = 0; j < this.shop.pay_methods.length; j++) {\n          formData.append('shop[pay_methods][]', this.shop.pay_methods[j])\n        }\n\n        this.$http.put('http://jiancan.me/api/m1/shops/one.json', formData).then(function (response) {\n          this.$set('shop', response.data.shop)\n          this.showHandleTip()\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      }\n    },\n    components: {\n      'nav-bar': require('../components/nav-bar.vue'),\n      'vue-china-city': require('../components/vue-china-city.vue')\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** shop.vue?7c16cb2c\n **/","module.exports = \"<div> <select class=c-select v-model=province> <option v-for=\\\"p in areas.provinces\\\" track-by=$index v-bind:value=p[1]> {{p[0]}} </option> </select> <select class=c-select v-model=city> <option v-for=\\\"c in areas.cities\\\" track-by=$index v-bind:value=c[1]> {{c[0]}} </option> </select> <select class=c-select v-model=district> <option v-for=\\\"d in areas.districts\\\" track-by=$index v-bind:value=d[1]> {{d[0]}} </option> </select> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/vue-china-city.vue\n ** module id = 97\n ** module chunks = 0\n **/","module.exports = \"<nav-bar> <span slot=title class=title>店铺管理</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=店铺头像 class=img-circle width=100 height=100 v-bind:src=shop.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td> <div class=content-form> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">店铺名称</label> <div class=col-sm-10> <input class=form-control placeholder=名称 type=text v-model=shop.name /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputPassword3 class=\\\"col-sm-2 form-control-label\\\">店铺电话</label> <div class=col-sm-10> <input class=form-control placeholder=电话 type=text v-model=shop.mobile /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputPassword3 class=\\\"col-sm-2 form-control-label\\\">店铺地区</label> <div class=col-sm-10> <div class=row> <div class=city-group style=padding-left:15px> <vue-china-city :province.sync=shop.province :city.sync=shop.city :district.sync=shop.district></vue-china-city> </div> </div> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">店铺地址</label> <div class=col-sm-10> <input class=form-control placeholder=地址 type=text v-model=shop.street /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">提供餐次</label> <div class=col-sm-10 style=line-height:38px> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=breakfast v-model=shop.meals /> <span class=c-indicator></span> 早餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=lunch v-model=shop.meals /> <span class=c-indicator></span> 中餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=afternoon_tea v-model=shop.meals /> <span class=c-indicator></span> 下午茶 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=supper v-model=shop.meals /> <span class=c-indicator></span> 晚餐 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=night_snack v-model=shop.meals /> <span class=c-indicator></span> 宵夜 </label> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">支付方式</label> <div class=col-sm-10 style=line-height:38px> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=online v-model=shop.pay_methods /> <span class=c-indicator></span> 线上付款 </label> <label class=\\\"c-input c-checkbox\\\"> <input type=checkbox value=offline v-model=shop.pay_methods /> <span class=c-indicator></span> 线下付款 </label> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\">满额免运</label> <div class=col-sm-10> <input class=form-control placeholder=满额免运费 type=text v-model=shop.full_free_courier /> </div> </div> <div class=\\\"form-group row\\\"> <label for=inputEmail3 class=\\\"col-sm-2 form-control-label\\\"></label> <div class=col-sm-10> <button @click=update class=\\\"btn btn-primary\\\">保 存</button> </div> </div> </div></td> </tr> </table>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/shop.vue\n ** module id = 110\n ** module chunks = 0\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./vue-china-city.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./vue-china-city.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/vue-china-city.vue\n ** module id = 118\n ** module chunks = 0\n **/"],"sourceRoot":""}