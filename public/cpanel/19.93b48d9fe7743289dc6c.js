webpackJsonp([19],{1:function(t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]={methods:{GoBack:function(){this.$route.router.go(window.history.back())}}}},2:function(t,o){t.exports='<div class="navbar navbar-light bg-faded navigation"> <a class="nav-link btn btn-primary-outline btn-sm" @click=GoBack> <i class="fa fa-arrow-left"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>'},3:function(t,o,e){var a,s;a=e(1),s=e(2),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},70:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]={data:function(){return{coupon:{title:"",details:"",original_price:0,preferential_price:0,avatar:""}}},route:{data:function(t){var o=this.$route.params;this.$http.get("http://jiancan.me/api/m1/coupons/one.json",{access_token:localStorage.token,coupon_id:o.coupon_id}).then(function(t){this.$set("coupon",t.data)},function(t){this.$dispatch("response-msg",t)})}},methods:{inputFileClick:function(t){return this.$els.avatar.click()},uploadAvatar:function(t){if(t.preventDefault(),""!==this.$els.avatar.value){var o=new FormData;o.append("access_token",localStorage.token),o.append("coupon_id",this.$route.params.coupon_id),o.append("coupon[avatar]",this.$els.avatar.files[0]),this.$http.put("http://jiancan.me/api/m1/coupons/one.json",o).then(function(t){this.$set("coupon",t.data.coupon)},function(t){this.$dispatch("response-msg",t)})}},update:function(t){t.preventDefault();var o=new FormData;o.append("access_token",localStorage.token),o.append("coupon_id",this.$route.params.coupon_id),o.append("coupon[title]",this.coupon.title),o.append("coupon[details]",this.coupon.details),o.append("coupon[original_price]",this.coupon.original_price),o.append("coupon[preferential_price]",this.coupon.preferential_price),this.$http.put("http://jiancan.me/api/m1/coupons/one.json",o).then(function(t){this.$set("coupon",t.data.coupon)},function(t){this.$dispatch("response-msg",t)})}},components:{"nav-bar":e(3)}}},101:function(t,o){t.exports='<nav-bar> <span slot=title class=title>活动管理 - {{coupon.title}}</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=店铺头像 class=img-circle width=100 height=100 v-bind:src=coupon.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td colspan=2> <div class=content-form> <form @submit=update accept-charset=UTF-8 method=post> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">主题</label> <div class=col-sm-10> <input class=form-control placeholder=主题 type=text v-model=coupon.title /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">详情</label> <div class=col-sm-10> <textarea class=form-control rows=3 v-model=coupon.details placeholder=详情></textarea> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">原价格</label> <div class=col-sm-10> <input class=form-control placeholder=奖品数量 type=text v-model=coupon.original_price /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">优惠价格</label> <div class=col-sm-10> <input class=form-control placeholder=奖品数量 type=text v-model=coupon.preferential_price /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label"></label> <div class=col-sm-10> <input type=submit name=commit value="保 存" class="btn btn-primary"/> </div> </div> </form> </div> </td> </tr> </table> <table class=table> <tr> <td colspan=2> 参加活动的用户 </td> </tr> <tr v-for="coupon_user in coupon.coupon_users"> <td> {{coupon_user.user.nickname}} </td> <td> {{coupon_user.used}} </td> <td> {{coupon_user.used_at}} </td> </tr> </table>'},129:function(t,o,e){var a,s;a=e(70),s=e(101),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}});
//# sourceMappingURL=19.93b48d9fe7743289dc6c.js.map