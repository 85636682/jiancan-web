{"version":3,"sources":["webpack:///9.a67a6f27e13c64fe4f98.js","webpack:///./~/vux/components/x-header/index.js?5bc7********","webpack:///./~/vux/components/flexbox-item/index.js?86aa","webpack:///./~/vux/components/flexbox/index.js?95be","webpack:///coupon.vue","webpack:///./src/views/coupon.vue?1b99","webpack:///./src/views/coupon.vue?6803","webpack:///./src/views/coupon.vue?21c4","webpack:///./src/views/coupon.vue"],"names":["webpackJsonp",1,"module","exports","__webpack_require__","e","t","this","s","o","r","id","loaded","call","m","c","p","Object","defineProperty","value","props","leftOptions","type","default","showBack","backText","preventGoBack","rightOptions","showMore","methods","onClickBack","$dispatch","history","back","__esModule","options","template",34,"span","Number","computed","style","$parent","orient","supported","gutter","length",35,"l","n","created","flex","ready","$el","querySelectorAll","classList","remove","add","width","String","document","createElement","cssText","className","documentElement","flexbox","legacy","flexboxlegacy","tweener","flexboxtweener","wrap","flexwrap",55,"_interopRequireDefault","obj","_actions","_xHeader","_xHeader2","_flexbox","_flexbox2","_flexboxItem","_flexboxItem2","vuex","actions","showAlert","showLoading","hideLoading","showHandleTip","data","closeEnter","logined","receive","coupon","shop","user","mobile","route","transtion","$http","get","coupon_id","$route","params","then","response","$set","title","error","status","access_token","localStorage","getItem","result_code","close_enter","receiveCoupon","post","put","myCoupons","router","go","name","login","window","location","href","events","on-click-back","components","XHeader","Flexbox","FlexboxItem",76,"push","version","sources","names","mappings","file","sourcesContent","sourceRoot",81,"content","locals",117,144,"__vue_script__","__vue_template__"],"mappings":"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","file":"9.a67a6f27e13c64fe4f98.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxXHeader=t():e.vuxXHeader=t()}(this,function(){return function(e){function t(s){if(o[s])return o[s].exports;var r=o[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]={props:{leftOptions:{type:Object,\"default\":function(){return{showBack:!0,backText:\"Back\",preventGoBack:!1}}},rightOptions:{type:Object,\"default\":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$dispatch(\"on-click-back\"):history.back()}}}},function(e,t){},function(e,t){e.exports=\"<div class=x-header> <div class=x-header-left> <a class=x-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=x-header-title><slot></slot></h1> <div class=x-header-right> <a class=x-header-more @click.preventdefault @click=\\\"$dispatch('on-click-more')\\\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>\"},function(e,t,o){var s,r;o(2),s=o(1),r=o(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),r&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}])});\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxFlexboxItem=e():t.vuxFlexboxItem=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var s=o[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(3)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=[\"-moz-box-\",\"-webkit-box-\",\"\"];e[\"default\"]={props:{span:{type:Number}},computed:{style:function(){var t={},e=\"horizontal\"===this.$parent.orient?\"marginLeft\":\"marginTop\";if(t[e]=this.$parent.supported?this.$parent.gutter+\"px\":0,this.span)for(var r=0;r<o.length;r++)t[o[r]+\"flex\"]=\"0 0 \"+100*(this.span>=1?this.span/12:this.span)+\"%\";return t}}}},function(t,e){t.exports=\"<div class=vux-flexbox-item :style=style> <slot></slot> </div>\"},function(t,e,o){var r,s;r=o(1),s=o(2),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),s&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}])});\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxFlexbox=t():e.vuxFlexbox=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var l=o[r]={exports:{},id:r,loaded:!1};return e[r].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(5)},function(e,t,o){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var l=o(2),n=r(l);t[\"default\"]={created:function(){this.supported=n[\"default\"].flex},ready:function(){if(!this.supported){var e=this.$el.querySelectorAll(\".vux-flexbox-item\");this.$el.classList.remove(\"vux-flexbox\"),this.$el.classList.add(\"vux-flexbox-unsupport\");for(var t=e.length,o=100/t+\"%\",r=0;t>r;r++)e[r].style.width=o,e[r].style[\"box-sizing\"]=\"border-box\",e[r].style[\"margin-left\"]=0,e[r].style[\"float\"]=\"left\"}},props:{gutter:{type:Number,\"default\":8},orient:{type:String,\"default\":\"horizontal\"}}}},function(e,t){\"use strict\";function o(e,t){var o=document.createElement(\"div\");o.style.cssText=r(e),s[t]=!!o.style.length,l.className+=\" \"+(s[t]?\"\":\"no-\")+t}function r(e){for(var t=\"\",o=0;o<n.length;o++)t+=n[o]+e;return t}Object.defineProperty(t,\"__esModule\",{value:!0});var l=document.documentElement,n=[\"-webkit-\",\"-moz-\",\"-ms-\",\"-o-\",\"\"],s={};o(\"flex-basis: 1px;\",\"flexbox\"),o(\"box-direction: reverse;\",\"flexboxlegacy\"),o(\"flex-align: end;\",\"flexboxtweener\"),o(\"flex-wrap: wrap;\",\"flexwrap\"),s.flex=s.flexbox,s.legacy=s.flexboxlegacy,s.tweener=s.flexboxtweener,s.wrap=s.flexwrap,t[\"default\"]=s},function(e,t){},function(e,t){e.exports=\"<div class=vux-flexbox :class=\\\"{'flex-col': orient == 'vertical', 'flex-row': orient == 'horizontal'}\\\"> <slot></slot> </div>\"},function(e,t,o){var r,l;o(3),r=o(1),l=o(4),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),l&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)}])});\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(2);\n\t\n\tvar _xHeader = __webpack_require__(1);\n\t\n\tvar _xHeader2 = _interopRequireDefault(_xHeader);\n\t\n\tvar _flexbox = __webpack_require__(35);\n\t\n\tvar _flexbox2 = _interopRequireDefault(_flexbox);\n\t\n\tvar _flexboxItem = __webpack_require__(34);\n\t\n\tvar _flexboxItem2 = _interopRequireDefault(_flexboxItem);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  vuex: {\n\t    actions: {\n\t      showAlert: _actions.showAlert,\n\t      showLoading: _actions.showLoading,\n\t      hideLoading: _actions.hideLoading,\n\t      showHandleTip: _actions.showHandleTip\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      leftOptions: {\n\t        showBack: true,\n\t        backText: 'Back',\n\t        preventGoBack: true\n\t      },\n\t      closeEnter: true,\n\t      logined: false,\n\t      receive: false,\n\t      coupon: {\n\t        shop: {}\n\t      },\n\t      user: {},\n\t      mobile: ''\n\t    };\n\t  },\n\t\n\t  route: {\n\t    data: function data(transtion) {\n\t      this.showLoading();\n\t\n\t      this.$http.get('http://jiancan.me/api/u1/coupons/one.json', { coupon_id: this.$route.params.coupon_id }).then(function (response) {\n\t        this.$set('coupon', response.data);\n\t      }, function (response) {\n\t        this.showAlert(response.data.title, response.data.error, response.status);\n\t      });\n\t\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token !== null) {\n\t        this.$http.get('http://jiancan.me/api/u1/users/current.json', { access_token: access_token }).then(function (response) {\n\t          this.$set('user', response.data);\n\t          this.logined = true;\n\t        }, function (response) {\n\t          this.showAlert(response.data.title, response.data.error, response.status);\n\t        });\n\t        this.$http.get('http://jiancan.me/api/u1/coupon_users/check.json', { access_token: access_token, coupon_id: this.$route.params.coupon_id }).then(function (response) {\n\t          if (response.data.result_code === 'SUCCESS') {\n\t            this.receive = true;\n\t          }\n\t        }, function (response) {\n\t          this.showAlert(response.data.title, response.data.error, response.status);\n\t        });\n\t      }\n\t      this.hideLoading();\n\t    }\n\t  },\n\t  methods: {\n\t    close_enter: function close_enter() {\n\t      this.closeEnter = !this.closeEnter;\n\t    },\n\t    receiveCoupon: function receiveCoupon() {\n\t      this.showLoading();\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token !== null) {\n\t        this.$http.post('http://jiancan.me/api/u1/coupon_users.json', { access_token: access_token, coupon_id: this.$route.params.coupon_id }).then(function (response) {\n\t          this.receive = true;\n\t          this.showHandleTip();\n\t        }, function (response) {\n\t          this.showAlert(response.data.title, response.data.error, response.status);\n\t        });\n\t        if (!this.user.mobile) {\n\t          this.$http.put('http://jiancan.me/api/u1/users/current.json', { access_token: access_token, mobile: this.mobile }).then(function (response) {\n\t            this.$set('user', response.data);\n\t          }, function (response) {\n\t            this.showAlert(response.data.title, response.data.error, response.status);\n\t          });\n\t        }\n\t      }\n\t      this.hideLoading();\n\t    },\n\t    myCoupons: function myCoupons() {\n\t      this.$route.router.go({ name: 'mycoupons' });\n\t    },\n\t    login: function login() {\n\t      window.location.href = 'http://jiancan.me/weixin/authorize?request_url=' + this.$route.name + '&coupon_id=' + this.$route.params.coupon_id;\n\t    }\n\t  },\n\t  events: {\n\t    'on-click-back': function onClickBack() {\n\t      this.$route.router.go({ name: 'coupons' });\n\t    }\n\t  },\n\t  components: {\n\t    XHeader: _xHeader2.default,\n\t    Flexbox: _flexbox2.default,\n\t    FlexboxItem: _flexboxItem2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 76:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(5)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".shared_and_addr{position:fixed;right:0;bottom:0;left:0;padding:1rem;background-color:#efefef;opacity:.8;z-index:18888;padding:4px 0}.hd-bg{background:rgba(0,0,0,.7);text-align:center;height:30px;line-height:30px}.hd-bg,.hd-bg a{color:#fff}.coupon_count{color:#000;text-align:center}.jc-input-block{display:block;width:100%;padding:5px;margin-left:-11px;font-size:1rem;line-height:1.5;color:#55595c;background-color:#fff;background-image:none;border:1px solid #ccc}.coupon-products-table{overflow:hidden;width:100%}.coupon-products-table td{overflow:hidden}.coupon-products-table .avatars{width:40px}.coupon-products-table .names{text-align:left}.coupon-products-table .prices{width:80px}.coupon-products-table .amounts{width:60px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/coupon.vue\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB,eAAe,QAAQ,SAAW,OAAO,aAAa,yBAAyB,WAAY,cAAc,aAAa,CAAC,OAAO,0BAA2B,kBAAkB,YAAY,gBAAiB,CAAW,gBAAX,UAAU,CAAqB,cAAc,WAAW,iBAAiB,CAAC,gBAAgB,cAAc,WAAW,YAAY,kBAAkB,eAAe,gBAAgB,cAAc,sBAAsB,sBAAsB,qBAAqB,CAAC,uBAAuB,gBAAgB,UAAU,CAAC,0BAA0B,eAAe,CAAC,gCAAgC,UAAU,CAAC,8BAA8B,eAAe,CAAC,+BAA+B,UAAU,CAAC,gCAAgC,UAAU,CAAC\",\"file\":\"coupon.vue\",\"sourcesContent\":[\".shared_and_addr{position:fixed;right:0;bottom:0px;left:0;padding:1rem;background-color:#efefef;opacity:0.8;z-index:18888;padding:4px 0}.hd-bg{background:rgba(0,0,0,0.7);text-align:center;height:30px;line-height:30px;color:#FFF}.hd-bg a{color:#FFF}.coupon_count{color:#000;text-align:center}.jc-input-block{display:block;width:100%;padding:5px;margin-left:-11px;font-size:1rem;line-height:1.5;color:#55595c;background-color:#fff;background-image:none;border:1px solid #ccc}.coupon-products-table{overflow:hidden;width:100%}.coupon-products-table td{overflow:hidden}.coupon-products-table .avatars{width:40px}.coupon-products-table .names{text-align:left}.coupon-products-table .prices{width:80px}.coupon-products-table .amounts{width:60px}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 81:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(76);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(6)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/sass-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/sass-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 117:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<x-header :left-options=leftOptions>{{coupon.title}}</x-header> <div class=bd> <div class=hd-bg v-show=closeEnter> <a href=http://wx.xj8.net/guide/index> <i class=\\\"fa fa-question-circle-o\\\"></i> 查看优惠券领取使用说明 </a> <div style=float:right;margin-right:10px> <i class=\\\"fa fa-times-circle-o\\\" @click=close_enter></i> </div> </div> <img class=\\\"jc-img-responsive jc-margin-bottom-xs\\\" src=http://upyun.wx.xj8.net//uploads/tpl/header/5a3b15bc516c.jpg alt=5a3b15bc516c> <div class=coupon_count> 已有 {{coupon.coupon_users_count}} 人参与此活动, 您还有 <span class=count_span>{{ receive ? 0 : 1 }}</span> 次领取机会 </div> <flexbox orient=vertical v-if=logined> <flexbox-item v-if=!user.mobile> <div style=padding-top:10px;padding-left:21px;padding-right:11px> <input v-model=mobile type=tel class=jc-input-block maxlength=11 minlength=11 placeholder=请输入手机号马上领取 /> </div> </flexbox-item> <flexbox-item> <a @click=receiveCoupon v-if=!receive class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 立即领取 </a> <a @click=myCoupons v-if=receive class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 你已领取，点击查看 </a> </flexbox-item> </flexbox> <flexbox v-if=!logined> <flexbox-item v-if=!receive> <a @click=login class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 授权领取 </a> </flexbox-item> </flexbox> <flexbox orient=vertical> <flexbox-item style=text-align:center> <p>地址：{{coupon.shop.address}}</p> </flexbox-item> <flexbox-item style=text-align:center> <p> 电话：{{coupon.shop.mobile}} </p> </flexbox-item> <flexbox-item style=text-align:center> <span>套餐内容</span> <table class=coupon-products-table> <tr> <td colspan=4> 参与优惠劵的商品 </td> </tr> <tr v-for=\\\"coupon_product in coupon.coupon_products\\\"> <td class=avatars><img alt=店铺头像 class=img-circle width=30 height=30 v-bind:src=coupon_product.product.avatar /></td> <td class=names>{{coupon_product.product.name}}</td> <td class=prices>￥ {{coupon_product.product.price}}</td> <td class=amounts>{{coupon_product.amount}} 份</td> </tr> </table> </flexbox-item> </flexbox> <div class=am-u-sm-12> <center> <img v-for=\\\"image in coupon.images\\\" :src=image.img520xAuto class=\\\"jc-img-responsive am-img-thumbnail am-radius jc-margin-bottom-xs\\\" style=display:block> </center> </div> <div style=text-align:center;color:#000> 本页面由简餐网提供<br> 技术支持:动起来软件有限公司 业务咨询: 15768092082 </div> </div> <div style=height:60px;width:100%></div> <flexbox class=shared_and_addr> <flexbox-item style=padding-left:5px> <a href=\\\"tel:{{ coupon.shop.mobile }}\\\" class=\\\"button button-block button-rounded button-highlight\\\"> <i class=\\\"fa fa-phone\\\"></i> 咨询电话 </a> </flexbox-item> <flexbox-item style=padding-right:5px> <a href=javascript:; class=\\\"button button-block button-rounded button-highlight\\\"> <i class=\\\"fa fa-map-marker\\\"></i> 店铺地址 </a> </flexbox-item> </flexbox>\";\n\n/***/ },\n\n/***/ 144:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(81)\n\t__vue_script__ = __webpack_require__(55)\n\t__vue_template__ = __webpack_require__(117)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 9.a67a6f27e13c64fe4f98.js\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxXHeader=t():e.vuxXHeader=t()}(this,function(){return function(e){function t(s){if(o[s])return o[s].exports;var r=o[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]={props:{leftOptions:{type:Object,\"default\":function(){return{showBack:!0,backText:\"Back\",preventGoBack:!1}}},rightOptions:{type:Object,\"default\":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$dispatch(\"on-click-back\"):history.back()}}}},function(e,t){},function(e,t){e.exports=\"<div class=x-header> <div class=x-header-left> <a class=x-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=x-header-title><slot></slot></h1> <div class=x-header-right> <a class=x-header-more @click.preventdefault @click=\\\"$dispatch('on-click-more')\\\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>\"},function(e,t,o){var s,r;o(2),s=o(1),r=o(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),r&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/x-header/index.js\n ** module id = 1\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20\n **/","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxFlexboxItem=e():t.vuxFlexboxItem=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var s=o[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(3)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=[\"-moz-box-\",\"-webkit-box-\",\"\"];e[\"default\"]={props:{span:{type:Number}},computed:{style:function(){var t={},e=\"horizontal\"===this.$parent.orient?\"marginLeft\":\"marginTop\";if(t[e]=this.$parent.supported?this.$parent.gutter+\"px\":0,this.span)for(var r=0;r<o.length;r++)t[o[r]+\"flex\"]=\"0 0 \"+100*(this.span>=1?this.span/12:this.span)+\"%\";return t}}}},function(t,e){t.exports=\"<div class=vux-flexbox-item :style=style> <slot></slot> </div>\"},function(t,e,o){var r,s;r=o(1),s=o(2),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),s&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/flexbox-item/index.js\n ** module id = 34\n ** module chunks = 4 9\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxFlexbox=t():e.vuxFlexbox=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var l=o[r]={exports:{},id:r,loaded:!1};return e[r].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(5)},function(e,t,o){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var l=o(2),n=r(l);t[\"default\"]={created:function(){this.supported=n[\"default\"].flex},ready:function(){if(!this.supported){var e=this.$el.querySelectorAll(\".vux-flexbox-item\");this.$el.classList.remove(\"vux-flexbox\"),this.$el.classList.add(\"vux-flexbox-unsupport\");for(var t=e.length,o=100/t+\"%\",r=0;t>r;r++)e[r].style.width=o,e[r].style[\"box-sizing\"]=\"border-box\",e[r].style[\"margin-left\"]=0,e[r].style[\"float\"]=\"left\"}},props:{gutter:{type:Number,\"default\":8},orient:{type:String,\"default\":\"horizontal\"}}}},function(e,t){\"use strict\";function o(e,t){var o=document.createElement(\"div\");o.style.cssText=r(e),s[t]=!!o.style.length,l.className+=\" \"+(s[t]?\"\":\"no-\")+t}function r(e){for(var t=\"\",o=0;o<n.length;o++)t+=n[o]+e;return t}Object.defineProperty(t,\"__esModule\",{value:!0});var l=document.documentElement,n=[\"-webkit-\",\"-moz-\",\"-ms-\",\"-o-\",\"\"],s={};o(\"flex-basis: 1px;\",\"flexbox\"),o(\"box-direction: reverse;\",\"flexboxlegacy\"),o(\"flex-align: end;\",\"flexboxtweener\"),o(\"flex-wrap: wrap;\",\"flexwrap\"),s.flex=s.flexbox,s.legacy=s.flexboxlegacy,s.tweener=s.flexboxtweener,s.wrap=s.flexwrap,t[\"default\"]=s},function(e,t){},function(e,t){e.exports=\"<div class=vux-flexbox :class=\\\"{'flex-col': orient == 'vertical', 'flex-row': orient == 'horizontal'}\\\"> <slot></slot> </div>\"},function(e,t,o){var r,l;o(3),r=o(1),l=o(4),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),l&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/flexbox/index.js\n ** module id = 35\n ** module chunks = 4 9\n **/","<template>\n  <x-header :left-options=\"leftOptions\">{{coupon.title}}</x-header>\n  <div class=\"bd\">\n    <div class=\"hd-bg\" v-show=\"closeEnter\">\n      <a href=\"http://wx.xj8.net/guide/index\">\n        <i class=\"fa fa-question-circle-o\"></i> 查看优惠券领取使用说明\n      </a>\n      <div style=\"float:right;margin-right:10px;\">\n        <i class=\"fa fa-times-circle-o\" @click=\"close_enter\"></i>\n      </div>\n    </div>\n\n    <img class=\"jc-img-responsive jc-margin-bottom-xs\" src=\"http://upyun.wx.xj8.net//uploads/tpl/header/5a3b15bc516c.jpg\" alt=\"5a3b15bc516c\">\n\n    <div class=\"coupon_count\">\n      已有 {{coupon.coupon_users_count}} 人参与此活动,\n      您还有 <span class=\"count_span\">{{ receive ? 0 : 1 }}</span> 次领取机会\n    </div>\n\n    <flexbox orient=\"vertical\" v-if=\"logined\">\n      <flexbox-item v-if=\"!user.mobile\">\n        <div style=\"padding-top: 10px;padding-left:21px;padding-right:11px;\">\n          <input v-model=\"mobile\" type=\"tel\" class=\"jc-input-block\" maxlength=\"11\" minlength=\"11\" placeholder=\"请输入手机号马上领取\" />\n        </div>\n      </flexbox-item>\n      <flexbox-item >\n        <a @click=\"receiveCoupon\" v-if=\"!receive\" class=\"button button-block button-rounded button-caution\" href=\"javascript:;\" style=\"margin: 10px;\">\n          立即领取\n        </a>\n        <a @click=\"myCoupons\" v-if=\"receive\" class=\"button button-block button-rounded button-caution\" href=\"javascript:;\" style=\"margin: 10px;\">\n          你已领取，点击查看\n        </a>\n      </flexbox-item>\n    </flexbox>\n    <flexbox v-if=\"!logined\">\n      <flexbox-item v-if=\"!receive\">\n        <a @click=\"login\" class=\"button button-block button-rounded button-caution\" href=\"javascript:;\" style=\"margin: 10px;\">\n          授权领取\n        </a>\n      </flexbox-item>\n    </flexbox>\n\n    <flexbox orient=\"vertical\">\n      <flexbox-item style=\"text-align:center;\">\n        <p>地址：{{coupon.shop.address}}</p>\n      </flexbox-item>\n      <flexbox-item style=\"text-align:center;\">\n        <p>\n          电话：{{coupon.shop.mobile}}\n        </p>\n      </flexbox-item>\n      <flexbox-item style=\"text-align:center;\">\n        <span>套餐内容</span>\n        <table class=\"coupon-products-table\">\n          <tr>\n            <td colspan=\"4\">\n              参与优惠劵的商品\n            </td>\n          </tr>\n          <tr v-for=\"coupon_product in coupon.coupon_products\">\n            <td class=\"avatars\"><img alt=\"店铺头像\" class=\"img-circle\" width=\"30\" height=\"30\" v-bind:src=\"coupon_product.product.avatar\" /></td>\n            <td class=\"names\">{{coupon_product.product.name}}</td>\n            <td class=\"prices\">￥ {{coupon_product.product.price}}</td>\n            <td class=\"amounts\">{{coupon_product.amount}} 份</td>\n          </tr>\n        </table>\n      </flexbox-item>\n    </flexbox>\n\n    <div class=\"am-u-sm-12\">\n      <center>\n        <img v-for=\"image in coupon.images\" :src=\"image.img520xAuto\" class=\"jc-img-responsive am-img-thumbnail am-radius jc-margin-bottom-xs\" style=\"display: block;\">\n      </center>\n    </div>\n\n    <div style=\"text-align: center;color: #000;\">\n      本页面由简餐网提供<br>\n      技术支持:动起来软件有限公司 业务咨询: 15768092082\n    </div>\n  </div>\n\n  <div style=\"height:60px;width:100%;\"></div>\n\n  <flexbox class=\"shared_and_addr\">\n    <flexbox-item style=\"padding-left: 5px;\">\n      <a href=\"tel:{{ coupon.shop.mobile }}\" class=\"button button-block button-rounded button-highlight\">\n        <i class=\"fa fa-phone\"></i> 咨询电话\n      </a>\n    </flexbox-item>\n    <flexbox-item style=\"padding-right: 5px;\">\n      <a href=\"javascript:;\" class=\"button button-block button-rounded button-highlight\">\n        <i class=\"fa fa-map-marker\"></i> 店铺地址\n      </a>\n    </flexbox-item>\n  </flexbox>\n</template>\n<script>\n  import { showAlert, showLoading, hideLoading, showHandleTip } from '../vuex/actions'\n  import XHeader from 'vux/components/x-header'\n  import Flexbox from 'vux/components/flexbox'\n  import FlexboxItem from 'vux/components/flexbox-item'\n\n  export default {\n    vuex: {\n      actions: {\n        showAlert,\n        showLoading,\n        hideLoading,\n        showHandleTip\n      }\n    },\n    data () {\n      return {\n        leftOptions: {\n          showBack: true,\n          backText: 'Back',\n          preventGoBack: true\n        },\n        closeEnter: true,\n        logined: false,\n        receive: false,\n        coupon: {\n          shop: {}\n        },\n        user: {},\n        mobile: ''\n      }\n    },\n    route: {\n      data (transtion) {\n        this.showLoading()\n\n        this.$http.get('http://jiancan.me/api/u1/coupons/one.json', { coupon_id: this.$route.params.coupon_id }).then(function (response) {\n          this.$set('coupon', response.data)\n        }, function (response) {\n          this.showAlert(response.data.title, response.data.error, response.status)\n        })\n\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token !== null) {\n          this.$http.get('http://jiancan.me/api/u1/users/current.json', { access_token: access_token }).then(function (response) {\n            this.$set('user', response.data)\n            this.logined = true\n          }, function (response) {\n            this.showAlert(response.data.title, response.data.error, response.status)\n          })\n          this.$http.get('http://jiancan.me/api/u1/coupon_users/check.json', { access_token: access_token, coupon_id: this.$route.params.coupon_id }).then(function (response) {\n            if (response.data.result_code === 'SUCCESS') {\n              this.receive = true\n            }\n          }, function (response) {\n            this.showAlert(response.data.title, response.data.error, response.status)\n          })\n        }\n        this.hideLoading()\n      }\n    },\n    methods: {\n      close_enter () {\n        this.closeEnter = !this.closeEnter\n      },\n      receiveCoupon () {\n        this.showLoading()\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token !== null) {\n          this.$http.post('http://jiancan.me/api/u1/coupon_users.json', { access_token: access_token, coupon_id: this.$route.params.coupon_id }).then(function (response) {\n            this.receive = true\n            this.showHandleTip()\n          }, function (response) {\n            this.showAlert(response.data.title, response.data.error, response.status)\n          })\n          if (!this.user.mobile) {\n            this.$http.put('http://jiancan.me/api/u1/users/current.json', { access_token: access_token, mobile: this.mobile }).then(function (response) {\n              this.$set('user', response.data)\n            }, function (response) {\n              this.showAlert(response.data.title, response.data.error, response.status)\n            })\n          }\n        }\n        this.hideLoading()\n      },\n      myCoupons () {\n        this.$route.router.go({ name: 'mycoupons' })\n      },\n      login () {\n        window.location.href = 'http://jiancan.me/weixin/authorize?request_url=' + this.$route.name + '&coupon_id=' + this.$route.params.coupon_id\n      }\n    },\n    events: {\n      'on-click-back' () {\n        this.$route.router.go({ name: 'coupons' })\n      }\n    },\n    components: {\n      XHeader,\n      Flexbox,\n      FlexboxItem\n    }\n  }\n</script>\n<style lang=\"scss\">\n  .shared_and_addr {\n    position: fixed;\n    right: 0;\n    bottom: 0px;\n    left: 0;\n    padding: 1rem;\n    background-color: #efefef;\n    opacity: 0.8;\n    z-index: 18888;\n    padding: 4px 0\n  }\n  .hd-bg {\n    background: rgba(0, 0, 0, 0.7);\n    text-align: center;\n    height: 30px;\n    line-height: 30px;\n    color: #FFF;\n    a {\n      color: #FFF;\n    }\n  }\n  .coupon_count {\n    color: #000;\n    text-align: center;\n  }\n  .jc-input-block {\n    display: block;\n    width: 100%;\n    padding: 5px;\n    margin-left: -11px;\n    font-size: 1rem;\n    line-height: 1.5;\n    color: #55595c;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n  }\n\n  .coupon-products-table {\n    overflow:hidden;\n    width:100%;\n  }\n  .coupon-products-table td {\n    overflow: hidden;\n  }\n  .coupon-products-table .avatars {\n    width: 40px;\n  }\n  .coupon-products-table .names {\n    text-align: left;\n  }\n  .coupon-products-table .prices {\n    width: 80px;\n  }\n  .coupon-products-table .amounts {\n    width: 60px;\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** coupon.vue?2e471c73\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".shared_and_addr{position:fixed;right:0;bottom:0;left:0;padding:1rem;background-color:#efefef;opacity:.8;z-index:18888;padding:4px 0}.hd-bg{background:rgba(0,0,0,.7);text-align:center;height:30px;line-height:30px}.hd-bg,.hd-bg a{color:#fff}.coupon_count{color:#000;text-align:center}.jc-input-block{display:block;width:100%;padding:5px;margin-left:-11px;font-size:1rem;line-height:1.5;color:#55595c;background-color:#fff;background-image:none;border:1px solid #ccc}.coupon-products-table{overflow:hidden;width:100%}.coupon-products-table td{overflow:hidden}.coupon-products-table .avatars{width:40px}.coupon-products-table .names{text-align:left}.coupon-products-table .prices{width:80px}.coupon-products-table .amounts{width:60px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/coupon.vue\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB,eAAe,QAAQ,SAAW,OAAO,aAAa,yBAAyB,WAAY,cAAc,aAAa,CAAC,OAAO,0BAA2B,kBAAkB,YAAY,gBAAiB,CAAW,gBAAX,UAAU,CAAqB,cAAc,WAAW,iBAAiB,CAAC,gBAAgB,cAAc,WAAW,YAAY,kBAAkB,eAAe,gBAAgB,cAAc,sBAAsB,sBAAsB,qBAAqB,CAAC,uBAAuB,gBAAgB,UAAU,CAAC,0BAA0B,eAAe,CAAC,gCAAgC,UAAU,CAAC,8BAA8B,eAAe,CAAC,+BAA+B,UAAU,CAAC,gCAAgC,UAAU,CAAC\",\"file\":\"coupon.vue\",\"sourcesContent\":[\".shared_and_addr{position:fixed;right:0;bottom:0px;left:0;padding:1rem;background-color:#efefef;opacity:0.8;z-index:18888;padding:4px 0}.hd-bg{background:rgba(0,0,0,0.7);text-align:center;height:30px;line-height:30px;color:#FFF}.hd-bg a{color:#FFF}.coupon_count{color:#000;text-align:center}.jc-input-block{display:block;width:100%;padding:5px;margin-left:-11px;font-size:1rem;line-height:1.5;color:#55595c;background-color:#fff;background-image:none;border:1px solid #ccc}.coupon-products-table{overflow:hidden;width:100%}.coupon-products-table td{overflow:hidden}.coupon-products-table .avatars{width:40px}.coupon-products-table .names{text-align:left}.coupon-products-table .prices{width:80px}.coupon-products-table .amounts{width:60px}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader?sourceMap!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/coupon.vue\n ** module id = 76\n ** module chunks = 9\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/sass-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/sass-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/sass-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader?sourceMap!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/coupon.vue\n ** module id = 81\n ** module chunks = 9\n **/","module.exports = \"<x-header :left-options=leftOptions>{{coupon.title}}</x-header> <div class=bd> <div class=hd-bg v-show=closeEnter> <a href=http://wx.xj8.net/guide/index> <i class=\\\"fa fa-question-circle-o\\\"></i> 查看优惠券领取使用说明 </a> <div style=float:right;margin-right:10px> <i class=\\\"fa fa-times-circle-o\\\" @click=close_enter></i> </div> </div> <img class=\\\"jc-img-responsive jc-margin-bottom-xs\\\" src=http://upyun.wx.xj8.net//uploads/tpl/header/5a3b15bc516c.jpg alt=5a3b15bc516c> <div class=coupon_count> 已有 {{coupon.coupon_users_count}} 人参与此活动, 您还有 <span class=count_span>{{ receive ? 0 : 1 }}</span> 次领取机会 </div> <flexbox orient=vertical v-if=logined> <flexbox-item v-if=!user.mobile> <div style=padding-top:10px;padding-left:21px;padding-right:11px> <input v-model=mobile type=tel class=jc-input-block maxlength=11 minlength=11 placeholder=请输入手机号马上领取 /> </div> </flexbox-item> <flexbox-item> <a @click=receiveCoupon v-if=!receive class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 立即领取 </a> <a @click=myCoupons v-if=receive class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 你已领取，点击查看 </a> </flexbox-item> </flexbox> <flexbox v-if=!logined> <flexbox-item v-if=!receive> <a @click=login class=\\\"button button-block button-rounded button-caution\\\" href=javascript:; style=margin:10px> 授权领取 </a> </flexbox-item> </flexbox> <flexbox orient=vertical> <flexbox-item style=text-align:center> <p>地址：{{coupon.shop.address}}</p> </flexbox-item> <flexbox-item style=text-align:center> <p> 电话：{{coupon.shop.mobile}} </p> </flexbox-item> <flexbox-item style=text-align:center> <span>套餐内容</span> <table class=coupon-products-table> <tr> <td colspan=4> 参与优惠劵的商品 </td> </tr> <tr v-for=\\\"coupon_product in coupon.coupon_products\\\"> <td class=avatars><img alt=店铺头像 class=img-circle width=30 height=30 v-bind:src=coupon_product.product.avatar /></td> <td class=names>{{coupon_product.product.name}}</td> <td class=prices>￥ {{coupon_product.product.price}}</td> <td class=amounts>{{coupon_product.amount}} 份</td> </tr> </table> </flexbox-item> </flexbox> <div class=am-u-sm-12> <center> <img v-for=\\\"image in coupon.images\\\" :src=image.img520xAuto class=\\\"jc-img-responsive am-img-thumbnail am-radius jc-margin-bottom-xs\\\" style=display:block> </center> </div> <div style=text-align:center;color:#000> 本页面由简餐网提供<br> 技术支持:动起来软件有限公司 业务咨询: 15768092082 </div> </div> <div style=height:60px;width:100%></div> <flexbox class=shared_and_addr> <flexbox-item style=padding-left:5px> <a href=\\\"tel:{{ coupon.shop.mobile }}\\\" class=\\\"button button-block button-rounded button-highlight\\\"> <i class=\\\"fa fa-phone\\\"></i> 咨询电话 </a> </flexbox-item> <flexbox-item style=padding-right:5px> <a href=javascript:; class=\\\"button button-block button-rounded button-highlight\\\"> <i class=\\\"fa fa-map-marker\\\"></i> 店铺地址 </a> </flexbox-item> </flexbox>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/coupon.vue\n ** module id = 117\n ** module chunks = 9\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./coupon.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./coupon.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./coupon.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/coupon.vue\n ** module id = 144\n ** module chunks = 9\n **/"],"sourceRoot":""}