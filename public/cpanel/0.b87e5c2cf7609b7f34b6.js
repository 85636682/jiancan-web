webpackJsonp([0],{1:function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s["default"]={methods:{GoBack:function(){this.$route.router.go(window.history.back())}}}},2:function(t,s){t.exports='<div class="navbar navbar-light bg-faded navigation"> <a class="nav-link btn btn-primary-outline btn-sm" @click=GoBack> <i class="fa fa-arrow-left"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>'},3:function(t,s,e){var o,a;o=e(1),a=e(2),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},58:function(t,s,e){var o,a;o=e(81),a=e(110),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},68:function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s["default"]={props:["province","city","district"],data:function(){return{areas:{provinces:{},cities:{},districts:{}}}},ready:function(){this.$http.get("http://jiancan.me/api/m1/areas/provinces.json").then(function(t){this.$set("areas.provinces",t.data.areas)},function(t){this.showAlert(t.data.error)})},watch:{province:function(t,s){this.$http.get("http://jiancan.me/api/m1/areas/cities.json",{province_id:this.province}).then(function(t){this.areas.cities=t.data.areas},function(t){this.showAlert(t.data.error)})},city:function(t,s){this.$http.get("http://jiancan.me/api/m1/areas/districts.json",{city_id:this.city}).then(function(t){this.areas.districts=t.data.areas},function(t){this.showAlert(t.data.error)})}}}},81:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=e(4);s["default"]={vuex:{getters:{isLogged:function(t){return t.merchant.isLogged},access_token:function(t){return t.merchant.merchant.access_token}},actions:{showAlert:o.showAlert,showLoading:o.showLoading,hideLoading:o.hideLoading,showHandleTip:o.showHandleTip}},data:function(){return{shop:{name:"",province:"",city:"",district:"",street:"",avatar:"",mobile:"",meals:[],full_free_courier:0}}},route:{data:function(t){this.showLoading(),this.$http.get("http://jiancan.me/api/m1/shops/current.json",{access_token:this.access_token}).then(function(t){this.$set("shop",t.data)},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},methods:{inputFileClick:function(t){return this.$els.avatar.click()},uploadAvatar:function(){if(this.showLoading(),""!==this.$els.avatar.value){var t=new FormData;t.append("access_token",this.access_token),t.append("shop[avatar]",this.$els.avatar.files[0]),this.$http.put("http://jiancan.me/api/m1/shops/one.json",t).then(function(t){this.$set("shop",t.data.shop)},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},update:function(){this.showLoading();var t=new FormData;t.append("access_token",this.access_token),t.append("shop[name]",this.shop.name),t.append("shop[mobile]",this.shop.mobile),t.append("shop[province]",this.shop.province),t.append("shop[city]",this.shop.city),t.append("shop[district]",this.shop.district),t.append("shop[street]",this.shop.street),t.append("shop[full_free_courier]",this.shop.full_free_courier);for(var s=0;s<this.shop.meals.length;s++)t.append("shop[meals][]",this.shop.meals[s]);this.$http.put("http://jiancan.me/api/m1/shops/one.json",t).then(function(t){this.$set("shop",t.data.shop),this.showHandleTip()},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},components:{"nav-bar":e(3),"vue-china-city":e(118)}}},97:function(t,s){t.exports='<div> <select class=c-select v-model=province> <option v-for="p in areas.provinces" track-by=$index v-bind:value=p[1]> {{p[0]}} </option> </select> <select class=c-select v-model=city> <option v-for="c in areas.cities" track-by=$index v-bind:value=c[1]> {{c[0]}} </option> </select> <select class=c-select v-model=district> <option v-for="d in areas.districts" track-by=$index v-bind:value=d[1]> {{d[0]}} </option> </select> </div>'},110:function(t,s){t.exports='<nav-bar> <span slot=title class=title>店铺管理</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=店铺头像 class=img-circle width=100 height=100 v-bind:src=shop.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td> <div class=content-form> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">店铺名称</label> <div class=col-sm-10> <input class=form-control placeholder=名称 type=text v-model=shop.name /> </div> </div> <div class="form-group row"> <label for=inputPassword3 class="col-sm-2 form-control-label">店铺电话</label> <div class=col-sm-10> <input class=form-control placeholder=电话 type=text v-model=shop.mobile /> </div> </div> <div class="form-group row"> <label for=inputPassword3 class="col-sm-2 form-control-label">店铺地区</label> <div class=col-sm-10> <div class=row> <div class=city-group style=padding-left:15px> <vue-china-city :province.sync=shop.province :city.sync=shop.city :district.sync=shop.district></vue-china-city> </div> </div> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">店铺地址</label> <div class=col-sm-10> <input class=form-control placeholder=地址 type=text v-model=shop.street /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">提供餐次</label> <div class=col-sm-10 style=line-height:38px> <label class="c-input c-checkbox"> <input type=checkbox value=breakfast v-model=shop.meals /> <span class=c-indicator></span> 早餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=lunch v-model=shop.meals /> <span class=c-indicator></span> 中餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=afternoon_tea v-model=shop.meals /> <span class=c-indicator></span> 下午茶 </label> <label class="c-input c-checkbox"> <input type=checkbox value=supper v-model=shop.meals /> <span class=c-indicator></span> 晚餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=night_snack v-model=shop.meals /> <span class=c-indicator></span> 宵夜 </label> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">满额免运费</label> <div class=col-sm-10> <input class=form-control placeholder=满额免运费 type=text v-model=shop.full_free_courier /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label"></label> <div class=col-sm-10> <button @click=update class="btn btn-primary">保 存</button> </div> </div> </div></td> </tr> </table>'},118:function(t,s,e){var o,a;o=e(68),a=e(97),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)}});
//# sourceMappingURL=0.b87e5c2cf7609b7f34b6.js.map