webpackJsonp([5],{1:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var s=this[e];s[2]?t.push("@media "+s[2]+"{"+s[1]+"}"):t.push(s[1])}return t.join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(i[n]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(s&&!a[2]?a[2]=s:s&&(a[2]="("+a[2]+") and ("+s+")"),t.push(a))}},t}},3:function(t,e,s){function i(t,e){for(var s=0;s<t.length;s++){var i=t[s],o=u[i.id];if(o){o.refs++;for(var n=0;n<o.parts.length;n++)o.parts[n](i.parts[n]);for(;n<i.parts.length;n++)o.parts.push(c(i.parts[n],e))}else{for(var a=[],n=0;n<i.parts.length;n++)a.push(c(i.parts[n],e));u[i.id]={id:i.id,refs:1,parts:a}}}}function o(t){for(var e=[],s={},i=0;i<t.length;i++){var o=t[i],n=o[0],a=o[1],r=o[2],c=o[3],l={css:a,media:r,sourceMap:c};s[n]?s[n].parts.push(l):e.push(s[n]={id:n,parts:[l]})}return e}function n(t,e){var s=h(),i=_[_.length-1];if("top"===t.insertAt)i?i.nextSibling?s.insertBefore(e,i.nextSibling):s.appendChild(e):s.insertBefore(e,s.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");s.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function r(t){var e=document.createElement("style");return e.type="text/css",n(t,e),e}function c(t,e){var s,i,o;if(e.singleton){var n=g++;s=v||(v=r(e)),i=l.bind(null,s,n,!1),o=l.bind(null,s,n,!0)}else s=r(e),i=d.bind(null,s),o=function(){a(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function l(t,e,s,i){var o=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var n=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(n,a[e]):t.appendChild(n)}}function d(t,e){var s=e.css,i=e.media,o=e.sourceMap;if(i&&t.setAttribute("media",i),o&&(s+="\n/*# sourceURL="+o.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var u={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,_=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var s=o(t);return i(s,e),function(t){for(var n=[],a=0;a<s.length;a++){var r=s[a],c=u[r.id];c.refs--,n.push(c)}if(t){var l=o(t);i(l,e)}for(var a=0;a<n.length;a++){var c=n[a];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete u[c.id]}}}};var b=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}()},4:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["goBack"],methods:{GoBack:function(){this.$route.router.go({path:this.goBack})}}}},5:function(t,e){t.exports='<div class=navigation_bar> <div class=middle> <slot name=middle_content> </slot> </div> <div class=left> <a class=go_back @click=GoBack> <i class="fa fa-arrow-left"></i> </a> </div> <div class=right> <slot name=right_items> </slot> </div> </div>'},6:function(t,e,s){var i,o;i=s(4),o=s(5),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},8:function(t,e,s){t.exports={"default":s(9),__esModule:!0}},9:function(t,e,s){var i=s(10);t.exports=function(t){return(i.JSON&&i.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},10:function(t,e){var s=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=s)},19:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["show","selectedProducts"],methods:{minus:function(t){this.$dispatch("minus",t)},plus:function(t,e){this.$dispatch("plus",t)},goCheck:function(){this.$dispatch("go-check")}},computed:{totalPrice:function(){for(var t=0,e=0;e<this.selectedProducts.length;e++)t+=this.selectedProducts[e].price*this.selectedProducts[e].amount;return t}}}},20:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={methods:{showCart:function(){this.$dispatch("show-cart")},goCheck:function(){this.$dispatch("go-check")}}}},21:function(t,e,s){e=t.exports=s(1)(),e.push([t.id,".shopping_cart_bar{height:50px;background:none repeat scroll 0 0 #fff;bottom:0;margin:0;padding:0;position:fixed}.shopping_cart_bar .weui_tabbar_item{text-align:center;line-height:40px}.shopping_cart_bar .bgea8010{color:#fff;background-color:#ea8010}.shopping_cart_bar .bgeb4f38{color:#fff;background-color:#eb4f38}","",{version:3,sources:["/./src/components/shopping-cart.vue"],names:[],mappings:"AAAA,mBAAmB,YAAY,uCAAuC,SAAS,SAAS,UAAU,cAAc,CAAC,qCAAqC,kBAAkB,gBAAgB,CAAC,6BAA6B,WAAW,wBAAwB,CAAC,6BAA6B,WAAW,wBAAwB,CAAC",file:"shopping-cart.vue",sourcesContent:[".shopping_cart_bar{height:50px;background:none repeat scroll 0 0 #FFF;bottom:0;margin:0;padding:0;position:fixed}.shopping_cart_bar .weui_tabbar_item{text-align:center;line-height:40px}.shopping_cart_bar .bgea8010{color:#fff;background-color:#ea8010}.shopping_cart_bar .bgeb4f38{color:#fff;background-color:#eb4f38}\n"],sourceRoot:"webpack://"}])},23:function(t,e,s){var i=s(21);"string"==typeof i&&(i=[[t.id,i,""]]);s(3)(i,{});i.locals&&(t.exports=i.locals)},25:function(t,e){t.exports='<div class=actionsheet_wrap> <div class=weui_mask_transition :class="{\'weui_fade_toggle\': show}" :style="{display: show ? \'block\' : \'none\'}" @click="show=false"></div> <div class=weui_actionsheet :class="{\'weui_actionsheet_toggle\': show}"> <div class=weui_actionsheet_menu> <div class=weui_actionsheet_cell style=background-color:#EEE> <div class=container> <div class=left style=text-align:left;padding-left:20px> <span class="" style="border-left:solid 2px #00f;font-size:15px;padding-left:10px">购物车</span> </div> <div class=right style=text-align:right;padding-right:20px> <button class="button button-small button-action"> <i class="fa fa-trash-o"></i> 清空 </button> </div> </div> </div> <div class=weui_actionsheet_cell v-for="product in selectedProducts"> <div class=container> <div class=left style=width:150px> <span style=font-size:16px>{{product.name}}</span> <span style=font-size:14px;color:red>￥ {{product.price}}</span> </div> <div class=right style=text-align:right;padding-right:20px> <button class="button button-action button-circle button-tiny" @click=minus(product)> <i class="fa fa-minus"></i> </button> {{product.amount}} <button class="button button-action button-circle button-tiny add-product" @click="plus(product, $event)"> <i class="fa fa-plus"></i> </button> </div> </div> </div> <div class=weui_actionsheet_cell style=background-color:#EEE> <div class=container> <div class=left style=text-align:left;padding-left:20px> <span class="" style="border-left:solid 2px red;font-size:15px;padding-left:10px">￥ {{totalPrice}}</span> </div> <div class=right style=text-align:right;padding-right:20px> <button @click=goCheck class="button button-small button-caution"> <i class="fa fa-trash-o"></i> 结算 </button> </div> </div> </div> </div> </div> </div>'},26:function(t,e){t.exports='<div class=weui_tab> <div class="weui_tabbar shopping_cart_bar"> <a class=weui_tabbar_item> <slot name=money>￥ 0</slot> </a> <a class="weui_tabbar_item bgea8010" @click=showCart> <i class="fa fa-shopping-cart"></i> 查看购物车 </a> <a class="weui_tabbar_item bgeb4f38" @click=goCheck> 去结算 </a> </div> <div class=weui_tab_bd></div> </div>'},27:function(t,e,s){var i,o;i=s(19),o=s(25),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},28:function(t,e,s){var i,o;s(23),i=s(20),o=s(26),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},42:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(8),n=i(o);e["default"]={data:function(){return{product:{},selectedProducts:[]}},route:{data:function(t){this.loadSelected(),this.$http.get("http://jiancan.me/api/u1/products/one.json",{product_id:this.$route.params.product_id}).then(function(t){this.$set("product",t.data)},function(t){this.$dispatch("response-msg",t)})}},computed:{totalPrice:function(){for(var t=0,e=0;e<this.selectedProducts.length;e++)t+=this.selectedProducts[e].price*this.selectedProducts[e].amount;return t},buildLink:function(){return"/shops/"+this.product.shop_id}},methods:{saveSelected:function(){localStorage.setItem("jc_"+this.product.shop_id+"_cart",(0,n["default"])(this.selectedProducts))},loadSelected:function(){var t=localStorage.getItem("jc_"+this.product.shop_id+"_cart");null!=t&&(this.selectedProducts=JSON.parse(t))},addProduct:function(t){var e=this.checkSelected(t);0>e?this.selectedProducts.push({id:t.id,amount:1,name:t.name,price:t.price}):this.selectedProducts[e].amount++,this.saveSelected()},removeProduct:function(t){var e=this.checkSelected(t);e>=0&&(this.selectedProducts[e].amount>1?this.selectedProducts[e].amount--:this.selectedProducts.splice(e,1)),this.saveSelected()}},components:{NavigationBar:s(6),ShoppingCart:s(28),ShoppingCartList:s(27)}}},78:function(t,e){t.exports='<navigation-bar :go-back=buildLink> <div slot=middle_content> {{product.name}} </div> <div slot=right_items> <i class="fa fa-heart-o"></i> </div> </navigation-bar> <div class=product_header> <img :src=product.avatar /> <div class=shop_card style=background-color:#FFF;width:100%;height:80px;display:-webkit-box;display:-moz-box> <div class=content style="-webkit-box-flex:1;-moz-box-flex:1;-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;margin:0 5px"> <a class=header>{{product.name}}</a> <div class=meta> </div> <div class=description> <p></p> </div> <div class=extra> Additional Details </div> </div> </div> </div> <div class=weui_panel> <div class=weui_panel_hd>美食评价</div> <div class=weui_panel_bd> <div class="weui_media_box weui_media_text"> <h4 class=weui_media_title>标题一</h4> <p class=weui_media_desc>由各种物质组成的巨型球状天体，叫做星球。星球有一定的形状，有自己的运行轨道。</p> <ul class=weui_media_info> <li class=weui_media_info_meta>文字来源</li> <li class=weui_media_info_meta>时间</li> <li class="weui_media_info_meta weui_media_info_meta_extra">其它信息</li> </ul> </div> </div> </div> <shopping-cart-list :show.sync=showCart :selected-products=selectedProducts></shopping-cart-list> <shopping-cart> <span slot=money style=color:#56abe4>￥ {{totalPrice}}</span> </shopping-cart>'},90:function(t,e,s){var i,o;i=s(42),o=s(78),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}});
//# sourceMappingURL=5.3f1f92218b1bb7b550b3.js.map