{"version":3,"sources":["webpack:///11.98e051b423ad5904d6f6.js","webpack:///navigation-bar.vue?2c6a*********","webpack:///./src/components/navigation-bar.vue?3f90**********","webpack:///./src/components/navigation-bar.vue?bdd5*********","webpack:///./~/vux/components/rater/index.js?a2c4****","webpack:///commenton.vue","webpack:///./src/views/user/commenton.vue?da2d","webpack:///./src/views/user/commenton.vue"],"names":["webpackJsonp",1,"module","exports","Object","defineProperty","value","props","methods","GoBack","this","$route","router","go","path","goBack",2,3,"__webpack_require__","__vue_script__","__vue_template__","__esModule","options","template",7,"t","e","r","o","i","id","loaded","call","m","c","p","ready","max","colors","push","handleClick","type","Number","default","twoWay","disabled","Boolean","star","String","activeColor","margin","fontSize","computed","sliceValue","toString","split","length","cutIndex","cutPercent","$set","data","watch",57,"_interopRequireDefault","obj","_rater","_rater2","order_product","product","comment","score","content","route","transition","access_token","localStorage","getItem","$http","get","order_product_id","params","then","response","$dispatch","commentOn","formData","FormData","append","jc_user_access_token","post","name","components","NavigationBar","Rater",112,137],"mappings":"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","file":"11.98e051b423ad5904d6f6.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['goBack'],\n\t  methods: {\n\t    GoBack: function GoBack() {\n\t      this.$route.router.go({ path: this.goBack });\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=navigation_bar> <div class=middle> <slot name=middle_content> </slot> </div> <div class=left> <a class=go_back @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> </a> </div> <div class=right> <slot name=right_items> </slot> </div> </div>\";\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(1)\n\t__vue_template__ = __webpack_require__(2)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 7:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxRater=e():t.vuxRater=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e[\"default\"]={ready:function(){for(var t=0;t<this.max;t++)this.colors.push(\"#ccc\");this.value&&this.handleClick(this.value-1,!0)},props:{max:{type:Number,\"default\":5},value:{type:Number,\"default\":0,twoWay:!0},disabled:{type:Boolean,\"default\":!1},star:{type:String,\"default\":\"★\"},activeColor:{type:String,\"default\":\"#fc6\"},margin:{type:Number,\"default\":2},fontSize:{type:Number,\"default\":25}},computed:{sliceValue:function(){var t=this.value.toString().split(\".\");return 1===t.length?[t[0],0]:t},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 10*this.sliceValue[1]}},methods:{handleClick:function(t,e){if(!this.disabled||e){this.value=t+1;for(var o=0;o<this.max;o++)t>=o?this.colors.$set(o,this.activeColor):this.colors.$set(o,\"#ccc\")}}},data:function(){return{colors:[],cutIndex:-1,cutPercent:0}},watch:{value:function(t){this.handleClick(t-1)}}}},function(t,e){},function(t,e){t.exports=\"<div class=vux-rater> <a class=vux-rater-box v-for=\\\"i in max\\\" @click=handleClick(i) :class=\\\"{'is-active':value > i}\\\" :style=\\\"{color:colors[i],marginRight:margin+'px',fontSize: fontSize + 'px',width: fontSize + 'px',height: fontSize + 'px'}\\\"> <span class=vux-rater-inner>{{star}}<span class=vux-rater-outer :style=\\\"{color:activeColor,width: cutPercent + '%'}\\\" v-if=\\\"cutPercent > 0 && cutIndex === i\\\">{{star}}</span></span> </a> </div>\"},function(t,e,o){var r,i;o(2),r=o(1),i=o(3),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),i&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}])});\n\n/***/ },\n\n/***/ 57:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _rater = __webpack_require__(7);\n\t\n\tvar _rater2 = _interopRequireDefault(_rater);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      order_product: {\n\t        product: {}\n\t      },\n\t      comment: {\n\t        score: 1,\n\t        content: ''\n\t      }\n\t    };\n\t  },\n\t\n\t  route: {\n\t    data: function data(transition) {\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token != null) {\n\t        this.$http.get('http://jiancan.me/api/u1/order_products/one.json', { order_product_id: this.$route.params.order_product_id, access_token: access_token }).then(function (response) {\n\t          this.$set('order_product', response.data);\n\t        }, function (response) {\n\t          this.$dispatch('response-msg', response);\n\t        });\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    commentOn: function commentOn() {\n\t      this.$dispatch('show-loading');\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token != null) {\n\t        var formData = new FormData();\n\t        formData.append('access_token', localStorage.jc_user_access_token);\n\t        formData.append('comment[content]', this.comment.content);\n\t        formData.append('comment[score]', this.comment.score);\n\t        formData.append('comment[commentable_type]', 'OrderProduct');\n\t        formData.append('comment[commentable_id]', this.order_product.id);\n\t\n\t        this.$http.post('http://jiancan.me/api/u1/comments.json', formData).then(function (response) {\n\t          this.$dispatch('hide-loading');\n\t          this.$route.router.go({ name: 'mycomments' });\n\t        }, function (response) {\n\t          this.$dispatch('hide-loading');\n\t          this.$dispatch('response-msg', response);\n\t        });\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    'NavigationBar': __webpack_require__(3),\n\t    Rater: _rater2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 112:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navigation-bar go-back=/user/comments> <div slot=middle_content> 评价 </div> </navigation-bar> <div class=bd> <div class=weui_panel> <div class=\\\"weui_panel_bd order_product_list_bd\\\"> <div class=\\\"weui_media_box weui_media_appmsg\\\"> <div class=weui_media_hd> <img class=weui_media_appmsg_thumb :src=order_product.product.avatar80x80 alt=\\\"\\\"> </div> <div class=weui_media_bd> <h4 class=weui_media_title>{{order_product.product.name}}</h4> <p class=weui_media_desc> <rater :font-size=25 :value.sync=comment.score slot=value active-color=#04BE02></rater> </p> </div> <div class=weui_media_extra> </div> </div> <div class=\\\"weui_cells weui_cells_form\\\"> <div class=weui_cell> <div class=\\\"weui_cell_bd weui_cell_primary\\\"> <textarea class=weui_textarea placeholder=请输入评论 rows=3 v-model=comment.content></textarea> <div class=weui_textarea_counter><span>0</span>/200</div> </div> </div> </div> </div> </div> </div> <div style=width:100%;height:30px></div> <div class=\\\"bd spacing\\\"> <a @click=commentOn class=\\\"weui_btn weui_btn_primary\\\">保存</a> </div>\";\n\n/***/ },\n\n/***/ 137:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(57)\n\t__vue_template__ = __webpack_require__(112)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 11.98e051b423ad5904d6f6.js\n **/","<template>\n  <div class=\"navigation_bar\">\n    <div class=\"middle\">\n      <slot name=\"middle_content\">\n      </slot>\n    </div>\n    <div class=\"left\">\n      <a class=\"go_back\" @click=\"GoBack\">\n        <i class=\"fa fa-arrow-left\"></i>\n      </a>\n    </div>\n    <div class=\"right\">\n      <slot name=\"right_items\">\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    props: ['goBack'],\n    methods: {\n      GoBack () {\n        this.$route.router.go({ path: this.goBack })\n      }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** navigation-bar.vue?7823e6cb\n **/","module.exports = \"<div class=navigation_bar> <div class=middle> <slot name=middle_content> </slot> </div> <div class=left> <a class=go_back @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> </a> </div> <div class=right> <slot name=right_items> </slot> </div> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/navigation-bar.vue\n ** module id = 2\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./navigation-bar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./navigation-bar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/navigation-bar.vue\n ** module id = 3\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17\n **/","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxRater=e():t.vuxRater=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e[\"default\"]={ready:function(){for(var t=0;t<this.max;t++)this.colors.push(\"#ccc\");this.value&&this.handleClick(this.value-1,!0)},props:{max:{type:Number,\"default\":5},value:{type:Number,\"default\":0,twoWay:!0},disabled:{type:Boolean,\"default\":!1},star:{type:String,\"default\":\"★\"},activeColor:{type:String,\"default\":\"#fc6\"},margin:{type:Number,\"default\":2},fontSize:{type:Number,\"default\":25}},computed:{sliceValue:function(){var t=this.value.toString().split(\".\");return 1===t.length?[t[0],0]:t},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 10*this.sliceValue[1]}},methods:{handleClick:function(t,e){if(!this.disabled||e){this.value=t+1;for(var o=0;o<this.max;o++)t>=o?this.colors.$set(o,this.activeColor):this.colors.$set(o,\"#ccc\")}}},data:function(){return{colors:[],cutIndex:-1,cutPercent:0}},watch:{value:function(t){this.handleClick(t-1)}}}},function(t,e){},function(t,e){t.exports=\"<div class=vux-rater> <a class=vux-rater-box v-for=\\\"i in max\\\" @click=handleClick(i) :class=\\\"{'is-active':value > i}\\\" :style=\\\"{color:colors[i],marginRight:margin+'px',fontSize: fontSize + 'px',width: fontSize + 'px',height: fontSize + 'px'}\\\"> <span class=vux-rater-inner>{{star}}<span class=vux-rater-outer :style=\\\"{color:activeColor,width: cutPercent + '%'}\\\" v-if=\\\"cutPercent > 0 && cutIndex === i\\\">{{star}}</span></span> </a> </div>\"},function(t,e,o){var r,i;o(2),r=o(1),i=o(3),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),i&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/rater/index.js\n ** module id = 7\n ** module chunks = 0 2 4 6 10 11\n **/","<template>\n  <navigation-bar go-back=\"/user/comments\">\n    <div slot=\"middle_content\">\n      评价\n    </div>\n  </navigation-bar>\n  <div class=\"bd\">\n    <div class=\"weui_panel\">\n      <div class=\"weui_panel_bd order_product_list_bd\">\n        <div class=\"weui_media_box weui_media_appmsg\">\n          <div class=\"weui_media_hd\">\n            <img class=\"weui_media_appmsg_thumb\" :src=\"order_product.product.avatar80x80\" alt=\"\">\n          </div>\n          <div class=\"weui_media_bd\">\n            <h4 class=\"weui_media_title\">{{order_product.product.name}}</h4>\n            <p class=\"weui_media_desc\">\n              <rater :font-size=25 :value.sync=\"comment.score\" slot=\"value\" active-color=\"#04BE02\"></rater>\n            </p>\n          </div>\n          <div class=\"weui_media_extra\">\n          </div>\n        </div>\n        <div class=\"weui_cells weui_cells_form\">\n          <div class=\"weui_cell\">\n            <div class=\"weui_cell_bd weui_cell_primary\">\n              <textarea class=\"weui_textarea\" placeholder=\"请输入评论\" rows=\"3\" v-model=\"comment.content\"></textarea>\n              <div class=\"weui_textarea_counter\"><span>0</span>/200</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div style=\"width:100%;height:30px;\"></div>\n  <div class=\"bd spacing\">\n    <a @click=\"commentOn\" class=\"weui_btn weui_btn_primary\">保存</a>\n  </div>\n</template>\n<script>\n  import Rater from 'vux/components/rater'\n\n  export default {\n    data () {\n      return {\n        order_product: {\n          product: {}\n        },\n        comment: {\n          score: 1,\n          content: ''\n        }\n      }\n    },\n    route: {\n      data (transition) {\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token != null) {\n          this.$http.get('http://jiancan.me/api/u1/order_products/one.json', { order_product_id: this.$route.params.order_product_id, access_token: access_token }).then(function (response) {\n            this.$set('order_product', response.data)\n          }, function (response) {\n            this.$dispatch('response-msg', response)\n          })\n        }\n      }\n    },\n    methods: {\n      commentOn () {\n        this.$dispatch('show-loading')\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token != null) {\n          var formData = new FormData()\n          formData.append('access_token', localStorage.jc_user_access_token)\n          formData.append('comment[content]', this.comment.content)\n          formData.append('comment[score]', this.comment.score)\n          formData.append('comment[commentable_type]', 'OrderProduct')\n          formData.append('comment[commentable_id]', this.order_product.id)\n\n          this.$http.post('http://jiancan.me/api/u1/comments.json', formData).then(function (response) {\n            this.$dispatch('hide-loading')\n            this.$route.router.go({ name: 'mycomments' })\n          }, function (response) {\n            this.$dispatch('hide-loading')\n            this.$dispatch('response-msg', response)\n          })\n        }\n      }\n    },\n    components: {\n      'NavigationBar': require('../../components/navigation-bar.vue'),\n      Rater\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** commenton.vue?3a22ff0e\n **/","module.exports = \"<navigation-bar go-back=/user/comments> <div slot=middle_content> 评价 </div> </navigation-bar> <div class=bd> <div class=weui_panel> <div class=\\\"weui_panel_bd order_product_list_bd\\\"> <div class=\\\"weui_media_box weui_media_appmsg\\\"> <div class=weui_media_hd> <img class=weui_media_appmsg_thumb :src=order_product.product.avatar80x80 alt=\\\"\\\"> </div> <div class=weui_media_bd> <h4 class=weui_media_title>{{order_product.product.name}}</h4> <p class=weui_media_desc> <rater :font-size=25 :value.sync=comment.score slot=value active-color=#04BE02></rater> </p> </div> <div class=weui_media_extra> </div> </div> <div class=\\\"weui_cells weui_cells_form\\\"> <div class=weui_cell> <div class=\\\"weui_cell_bd weui_cell_primary\\\"> <textarea class=weui_textarea placeholder=请输入评论 rows=3 v-model=comment.content></textarea> <div class=weui_textarea_counter><span>0</span>/200</div> </div> </div> </div> </div> </div> </div> <div style=width:100%;height:30px></div> <div class=\\\"bd spacing\\\"> <a @click=commentOn class=\\\"weui_btn weui_btn_primary\\\">保存</a> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/commenton.vue\n ** module id = 112\n ** module chunks = 11\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./commenton.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./commenton.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/user/commenton.vue\n ** module id = 137\n ** module chunks = 11\n **/"],"sourceRoot":""}