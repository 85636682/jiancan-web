webpackJsonp([0],{1:function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s["default"]={methods:{GoBack:function(){this.$route.router.go(window.history.back())}}}},2:function(t,s){t.exports='<div class="navbar navbar-light bg-faded navigation"> <a class="nav-link btn btn-primary-outline btn-sm" @click=GoBack> <i class="fa fa-arrow-left"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>'},3:function(t,s,e){var a,o;a=e(1),o=e(2),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},51:function(t,s,e){var a,o;a=e(72),o=e(103),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},55:function(t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s["default"]={props:["province","city","district"],data:function(){return{areas:{provinces:{},cities:{},districts:{}}}},ready:function(){this.$http.get("http://jiancan.me/api/m1/areas/provinces.json").then(function(t){this.$set("areas.provinces",t.data.areas)},function(t){this.$dispatch("response-msg",t)})},watch:{province:function(t,s){this.$http.get("http://jiancan.me/api/m1/areas/cities.json",{province_id:this.province}).then(function(t){this.areas.cities=t.data.areas},function(t){this.$dispatch("response-msg",t)})},city:function(t,s){this.$http.get("http://jiancan.me/api/m1/areas/districts.json",{city_id:this.city}).then(function(t){this.areas.districts=t.data.areas},function(t){this.$dispatch("response-msg",t)})}}}},72:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s["default"]={data:function(){return{shop:{name:"",province:"",city:"",district:"",street:"",avatar:"",mobile:"",meals:[]}}},route:{data:function(t){this.$http.get("http://jiancan.me/api/m1/shops/current.json",{access_token:localStorage.token}).then(function(s){t.next({shop:s.data})},function(t){this.$dispatch("response-msg",t)})}},methods:{inputFileClick:function(t){return this.$els.avatar.click()},uploadAvatar:function(t){if(t.preventDefault(),""!==this.$els.avatar.value){var s=new FormData;s.append("access_token",localStorage.token),s.append("shop[avatar]",this.$els.avatar.files[0]),this.$http.put("http://jiancan.me/api/m1/shops/one.json",s).then(function(t){this.$set("shop",t.data.shop)},function(t){this.$dispatch("response-msg",t)})}},update:function(t){t.preventDefault();var s=new FormData;s.append("access_token",localStorage.token),s.append("shop[name]",this.shop.name),s.append("shop[mobile]",this.shop.mobile),s.append("shop[province]",this.shop.province),s.append("shop[city]",this.shop.city),s.append("shop[district]",this.shop.district),s.append("shop[street]",this.shop.street);for(var e=0;e<this.shop.meals.length;e++)s.append("shop[meals][]",this.shop.meals[e]);this.$http.put("http://jiancan.me/api/m1/shops/one.json",s).then(function(t){this.$set("shop",t.data.shop)},function(t){this.$dispatch("response-msg",t)})}},components:{"nav-bar":e(3),"vue-china-city":e(113)}}},86:function(t,s){t.exports='<div> <select class=c-select v-model=province> <option v-for="p in areas.provinces" track-by=$index v-bind:value=p[1]> {{p[0]}} </option> </select> <select class=c-select v-model=city> <option v-for="c in areas.cities" track-by=$index v-bind:value=c[1]> {{c[0]}} </option> </select> <select class=c-select v-model=district> <option v-for="d in areas.districts" track-by=$index v-bind:value=d[1]> {{d[0]}} </option> </select> </div>'},103:function(t,s){t.exports='<nav-bar> <span slot=title class=title>店铺管理</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=店铺头像 class=img-circle width=100 height=100 v-bind:src=shop.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td> <div class=content-form> <form @submit=update accept-charset=UTF-8> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">店铺名称</label> <div class=col-sm-10> <input class=form-control placeholder=名称 type=text v-model=shop.name /> </div> </div> <div class="form-group row"> <label for=inputPassword3 class="col-sm-2 form-control-label">店铺电话</label> <div class=col-sm-10> <input class=form-control placeholder=电话 type=text v-model=shop.mobile /> </div> </div> <div class="form-group row"> <label for=inputPassword3 class="col-sm-2 form-control-label">店铺地区</label> <div class=col-sm-10> <div class=row> <div class=city-group style=padding-left:15px> <vue-china-city :province.sync=shop.province :city.sync=shop.city :district.sync=shop.district></vue-china-city> </div> </div> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">店铺地址</label> <div class=col-sm-10> <input class=form-control placeholder=地址 type=text v-model=shop.street /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">提供餐次</label> <div class=col-sm-10 style=line-height:38px> <label class="c-input c-checkbox"> <input type=checkbox value=breakfast v-model=shop.meals /> <span class=c-indicator></span> 早餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=lunch v-model=shop.meals /> <span class=c-indicator></span> 中餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=afternoon_tea v-model=shop.meals /> <span class=c-indicator></span> 下午茶 </label> <label class="c-input c-checkbox"> <input type=checkbox value=supper v-model=shop.meals /> <span class=c-indicator></span> 晚餐 </label> <label class="c-input c-checkbox"> <input type=checkbox value=night_snack v-model=shop.meals /> <span class=c-indicator></span> 宵夜 </label> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label"></label> <div class=col-sm-10> <input type=submit name=commit value="保 存" class="btn btn-primary"/> </div> </div> </form> </div></td> </tr> </table>'},113:function(t,s,e){var a,o;a=e(55),o=e(86),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}});
//# sourceMappingURL=0.19da260a47dbd7cbc9e1.js.map