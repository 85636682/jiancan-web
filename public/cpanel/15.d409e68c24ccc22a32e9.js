webpackJsonp([15],{1:function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]={methods:{GoBack:function(){this.$route.router.go(window.history.back())}}}},2:function(t,a){t.exports='<div class="navbar navbar-light bg-faded navigation"> <a class="nav-link btn btn-primary-outline btn-sm" @click=GoBack> <i class="fa fa-arrow-left"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>'},3:function(t,a,e){var o,s;o=e(1),s=e(2),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},71:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(4);a["default"]={vuex:{getters:{isLogged:function(t){return t.merchant.isLogged},access_token:function(t){return t.merchant.merchant.access_token}},actions:{showAlert:o.showAlert,showLoading:o.showLoading,hideLoading:o.hideLoading}},data:function(){return{category:{name:"",avatar:"",sort:0}}},route:{data:function(t){this.showLoading();var a=this.$route.params;this.$http.get("http://jiancan.me/api/m1/categories/one.json",{access_token:this.access_token,category_id:a.category_id}).then(function(a){t.next({category:a.data})},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},methods:{inputFileClick:function(){return this.$els.avatar.click()},uploadAvatar:function(){if(this.showLoading(),""!==this.$els.avatar.value){var t=new FormData;t.append("access_token",this.access_token),t.append("category_id",this.$route.params.category_id),t.append("category[avatar]",this.$els.avatar.files[0]),this.$http.put("http://jiancan.me/api/m1/categories/one.json",t).then(function(t){this.$set("category",t.data.category)},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},update:function(){this.showLoading();var t=new FormData;t.append("access_token",this.access_token),t.append("category_id",this.$route.params.category_id),t.append("category[name]",this.category.name),t.append("category[sort]",this.category.sort),this.$http.put("http://jiancan.me/api/m1/categories/one.json",t).then(function(t){this.$route.router.go({path:"/categories"})},function(t){this.showAlert(t.data.error)}),this.hideLoading()}},components:{"nav-bar":e(3)}}},100:function(t,a){t.exports='<nav-bar> <span slot=title class=title>分类管理 - {{category.name}}</span> </nav-bar> <table class=table> <tr> <td style=width:200px;padding-left:50px> <img @click=inputFileClick alt=分类头像 class=img-circle width=100 height=100 v-bind:src=category.avatar /> <input @change=uploadAvatar v-el:avatar class=avatar type=file accept=image/* style=display:none /> </td> <td> <div class=content-form> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">分类名称</label> <div class=col-sm-10> <input class=form-control placeholder=名称 type=text v-model=category.name /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label">分类排序</label> <div class=col-sm-10> <input class=form-control placeholder=排序 type=text v-model=category.sort /> </div> </div> <div class="form-group row"> <label for=inputEmail3 class="col-sm-2 form-control-label"></label> <div class=col-sm-10> <button @click=update class="btn btn-primary">保 存</button> </div> </div> </div> </td> </tr> </table>'},121:function(t,a,e){var o,s;o=e(71),s=e(100),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}});
//# sourceMappingURL=15.d409e68c24ccc22a32e9.js.map