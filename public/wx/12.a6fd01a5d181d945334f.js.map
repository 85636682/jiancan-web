{"version":3,"sources":["webpack:///12.a6fd01a5d181d945334f.js","webpack:///./~/vux/components/x-header/index.js?5bc7**********","webpack:///./~/vux/components/rater/index.js?a2c4***","webpack:///commenton.vue","webpack:///./src/views/user/commenton.vue?da2d","webpack:///./src/views/user/commenton.vue"],"names":["webpackJsonp",1,"module","exports","__webpack_require__","e","t","this","s","o","r","id","loaded","call","m","c","p","Object","defineProperty","value","props","leftOptions","type","default","showBack","backText","preventGoBack","rightOptions","showMore","methods","onClickBack","$dispatch","history","back","__esModule","options","template",4,"i","ready","max","colors","push","handleClick","Number","twoWay","disabled","Boolean","star","String","activeColor","margin","fontSize","computed","sliceValue","toString","split","length","cutIndex","cutPercent","$set","data","watch",64,"_interopRequireDefault","obj","_xHeader","_xHeader2","_rater","_rater2","order_product","product","comment","score","content","route","transition","access_token","localStorage","getItem","$http","get","order_product_id","$route","params","then","response","showAlert","title","error","commentOn","showLoading","formData","FormData","append","jc_user_access_token","post","hideLoading","router","go","name","components","XHeader","Rater",128,154,"__vue_script__","__vue_template__"],"mappings":"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","file":"12.a6fd01a5d181d945334f.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxXHeader=t():e.vuxXHeader=t()}(this,function(){return function(e){function t(s){if(o[s])return o[s].exports;var r=o[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]={props:{leftOptions:{type:Object,\"default\":function(){return{showBack:!0,backText:\"Back\",preventGoBack:!1}}},rightOptions:{type:Object,\"default\":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$dispatch(\"on-click-back\"):history.back()}}}},function(e,t){},function(e,t){e.exports=\"<div class=x-header> <div class=x-header-left> <a class=x-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=x-header-title><slot></slot></h1> <div class=x-header-right> <a class=x-header-more @click.preventdefault @click=\\\"$dispatch('on-click-more')\\\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>\"},function(e,t,o){var s,r;o(2),s=o(1),r=o(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),r&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}])});\n\n/***/ },\n\n/***/ 4:\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxRater=e():t.vuxRater=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e[\"default\"]={ready:function(){for(var t=0;t<this.max;t++)this.colors.push(\"#ccc\");this.value&&this.handleClick(this.value-1,!0)},props:{max:{type:Number,\"default\":5},value:{type:Number,\"default\":0,twoWay:!0},disabled:{type:Boolean,\"default\":!1},star:{type:String,\"default\":\"★\"},activeColor:{type:String,\"default\":\"#fc6\"},margin:{type:Number,\"default\":2},fontSize:{type:Number,\"default\":25}},computed:{sliceValue:function(){var t=this.value.toString().split(\".\");return 1===t.length?[t[0],0]:t},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 10*this.sliceValue[1]}},methods:{handleClick:function(t,e){if(!this.disabled||e){this.value=t+1;for(var o=0;o<this.max;o++)t>=o?this.colors.$set(o,this.activeColor):this.colors.$set(o,\"#ccc\")}}},data:function(){return{colors:[],cutIndex:-1,cutPercent:0}},watch:{value:function(t){this.handleClick(t-1)}}}},function(t,e){},function(t,e){t.exports=\"<div class=vux-rater> <a class=vux-rater-box v-for=\\\"i in max\\\" @click=handleClick(i) :class=\\\"{'is-active':value > i}\\\" :style=\\\"{color:colors[i],marginRight:margin+'px',fontSize: fontSize + 'px', width: fontSize + 'px', height: fontSize + 'px'}\\\"> <span class=vux-rater-inner>{{star}}<span class=vux-rater-outer :style=\\\"{color: activeColor, width: cutPercent + '%'}\\\" v-if=\\\"cutPercent > 0 && cutIndex === i\\\">{{star}}</span></span> </a> </div>\"},function(t,e,o){var r,i;o(2),r=o(1),i=o(3),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),i&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}])});\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _xHeader = __webpack_require__(1);\n\t\n\tvar _xHeader2 = _interopRequireDefault(_xHeader);\n\t\n\tvar _rater = __webpack_require__(4);\n\t\n\tvar _rater2 = _interopRequireDefault(_rater);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      order_product: {\n\t        product: {}\n\t      },\n\t      comment: {\n\t        score: 1,\n\t        content: ''\n\t      }\n\t    };\n\t  },\n\t\n\t  route: {\n\t    data: function data(transition) {\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token !== null) {\n\t        this.$http.get('http://jiancan.me/api/u1/order_products/one.json', { order_product_id: this.$route.params.order_product_id, access_token: access_token }).then(function (response) {\n\t          this.$set('order_product', response.data);\n\t        }, function (response) {\n\t          this.showAlert(response.data.title, response.data.error);\n\t        });\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    commentOn: function commentOn() {\n\t      this.showLoading();\n\t      var access_token = localStorage.getItem('jc_user_access_token');\n\t      if (access_token !== null) {\n\t        var formData = new FormData();\n\t        formData.append('access_token', localStorage.jc_user_access_token);\n\t        formData.append('comment[content]', this.comment.content);\n\t        formData.append('comment[score]', this.comment.score);\n\t        formData.append('comment[commentable_type]', 'OrderProduct');\n\t        formData.append('comment[commentable_id]', this.order_product.id);\n\t\n\t        this.$http.post('http://jiancan.me/api/u1/comments.json', formData).then(function (response) {\n\t          this.hideLoading();\n\t          this.$route.router.go({ name: 'mycomments' });\n\t        }, function (response) {\n\t          this.hideLoading();\n\t          this.showAlert(response.data.title, response.data.error);\n\t        });\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    XHeader: _xHeader2.default,\n\t    Rater: _rater2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 128:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<x-header>评价</x-header> <div class=bd> <div class=weui_panel> <div class=\\\"weui_panel_bd order_product_list_bd\\\"> <div class=\\\"weui_media_box weui_media_appmsg\\\"> <div class=weui_media_hd> <img class=weui_media_appmsg_thumb :src=order_product.product.avatar80x80 alt=\\\"\\\"> </div> <div class=weui_media_bd> <h4 class=weui_media_title>{{order_product.product.name}}</h4> <p class=weui_media_desc> <rater :font-size=25 :value.sync=comment.score slot=value active-color=#04BE02></rater> </p> </div> <div class=weui_media_extra> </div> </div> <div class=\\\"weui_cells weui_cells_form\\\"> <div class=weui_cell> <div class=\\\"weui_cell_bd weui_cell_primary\\\"> <textarea class=weui_textarea placeholder=写下购买体会或者享受食物后的感受，可以为其他小伙伴提供参考~ rows=3 v-model=comment.content></textarea> <div class=weui_textarea_counter><span>0</span>/200</div> </div> </div> </div> </div> </div> </div> <div style=width:100%;height:30px></div> <div class=\\\"bd spacing\\\"> <a @click=commentOn class=\\\"weui_btn weui_btn_primary\\\">保存</a> </div>\";\n\n/***/ },\n\n/***/ 154:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(64)\n\t__vue_template__ = __webpack_require__(128)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 12.a6fd01a5d181d945334f.js\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vuxXHeader=t():e.vuxXHeader=t()}(this,function(){return function(e){function t(s){if(o[s])return o[s].exports;var r=o[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]={props:{leftOptions:{type:Object,\"default\":function(){return{showBack:!0,backText:\"Back\",preventGoBack:!1}}},rightOptions:{type:Object,\"default\":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$dispatch(\"on-click-back\"):history.back()}}}},function(e,t){},function(e,t){e.exports=\"<div class=x-header> <div class=x-header-left> <a class=x-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=x-header-title><slot></slot></h1> <div class=x-header-right> <a class=x-header-more @click.preventdefault @click=\\\"$dispatch('on-click-more')\\\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>\"},function(e,t,o){var s,r;o(2),s=o(1),r=o(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports[\"default\"]),r&&((\"function\"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/x-header/index.js\n ** module id = 1\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20\n **/","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.vuxRater=e():t.vuxRater=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e[\"default\"]={ready:function(){for(var t=0;t<this.max;t++)this.colors.push(\"#ccc\");this.value&&this.handleClick(this.value-1,!0)},props:{max:{type:Number,\"default\":5},value:{type:Number,\"default\":0,twoWay:!0},disabled:{type:Boolean,\"default\":!1},star:{type:String,\"default\":\"★\"},activeColor:{type:String,\"default\":\"#fc6\"},margin:{type:Number,\"default\":2},fontSize:{type:Number,\"default\":25}},computed:{sliceValue:function(){var t=this.value.toString().split(\".\");return 1===t.length?[t[0],0]:t},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 10*this.sliceValue[1]}},methods:{handleClick:function(t,e){if(!this.disabled||e){this.value=t+1;for(var o=0;o<this.max;o++)t>=o?this.colors.$set(o,this.activeColor):this.colors.$set(o,\"#ccc\")}}},data:function(){return{colors:[],cutIndex:-1,cutPercent:0}},watch:{value:function(t){this.handleClick(t-1)}}}},function(t,e){},function(t,e){t.exports=\"<div class=vux-rater> <a class=vux-rater-box v-for=\\\"i in max\\\" @click=handleClick(i) :class=\\\"{'is-active':value > i}\\\" :style=\\\"{color:colors[i],marginRight:margin+'px',fontSize: fontSize + 'px', width: fontSize + 'px', height: fontSize + 'px'}\\\"> <span class=vux-rater-inner>{{star}}<span class=vux-rater-outer :style=\\\"{color: activeColor, width: cutPercent + '%'}\\\" v-if=\\\"cutPercent > 0 && cutIndex === i\\\">{{star}}</span></span> </a> </div>\"},function(t,e,o){var r,i;o(2),r=o(1),i=o(3),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports[\"default\"]),i&&((\"function\"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vux/components/rater/index.js\n ** module id = 4\n ** module chunks = 0 2 5 11 12 14\n **/","<template>\n  <x-header>评价</x-header>\n  <div class=\"bd\">\n    <div class=\"weui_panel\">\n      <div class=\"weui_panel_bd order_product_list_bd\">\n        <div class=\"weui_media_box weui_media_appmsg\">\n          <div class=\"weui_media_hd\">\n            <img class=\"weui_media_appmsg_thumb\" :src=\"order_product.product.avatar80x80\" alt=\"\">\n          </div>\n          <div class=\"weui_media_bd\">\n            <h4 class=\"weui_media_title\">{{order_product.product.name}}</h4>\n            <p class=\"weui_media_desc\">\n              <rater :font-size=25 :value.sync=\"comment.score\" slot=\"value\" active-color=\"#04BE02\"></rater>\n            </p>\n          </div>\n          <div class=\"weui_media_extra\">\n          </div>\n        </div>\n        <div class=\"weui_cells weui_cells_form\">\n          <div class=\"weui_cell\">\n            <div class=\"weui_cell_bd weui_cell_primary\">\n              <textarea class=\"weui_textarea\" placeholder=\"写下购买体会或者享受食物后的感受，可以为其他小伙伴提供参考~\" rows=\"3\" v-model=\"comment.content\"></textarea>\n              <div class=\"weui_textarea_counter\"><span>0</span>/200</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div style=\"width:100%;height:30px;\"></div>\n  <div class=\"bd spacing\">\n    <a @click=\"commentOn\" class=\"weui_btn weui_btn_primary\">保存</a>\n  </div>\n</template>\n<script>\n  import XHeader from 'vux/components/x-header'\n  import Rater from 'vux/components/rater'\n\n  export default {\n    data () {\n      return {\n        order_product: {\n          product: {}\n        },\n        comment: {\n          score: 1,\n          content: ''\n        }\n      }\n    },\n    route: {\n      data (transition) {\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token !== null) {\n          this.$http.get('http://jiancan.me/api/u1/order_products/one.json', { order_product_id: this.$route.params.order_product_id, access_token: access_token }).then(function (response) {\n            this.$set('order_product', response.data)\n          }, function (response) {\n            this.showAlert(response.data.title, response.data.error)\n          })\n        }\n      }\n    },\n    methods: {\n      commentOn () {\n        this.showLoading()\n        let access_token = localStorage.getItem('jc_user_access_token')\n        if (access_token !== null) {\n          var formData = new FormData()\n          formData.append('access_token', localStorage.jc_user_access_token)\n          formData.append('comment[content]', this.comment.content)\n          formData.append('comment[score]', this.comment.score)\n          formData.append('comment[commentable_type]', 'OrderProduct')\n          formData.append('comment[commentable_id]', this.order_product.id)\n\n          this.$http.post('http://jiancan.me/api/u1/comments.json', formData).then(function (response) {\n            this.hideLoading()\n            this.$route.router.go({ name: 'mycomments' })\n          }, function (response) {\n            this.hideLoading()\n            this.showAlert(response.data.title, response.data.error)\n          })\n        }\n      }\n    },\n    components: {\n      XHeader,\n      Rater\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** commenton.vue?0fa83355\n **/","module.exports = \"<x-header>评价</x-header> <div class=bd> <div class=weui_panel> <div class=\\\"weui_panel_bd order_product_list_bd\\\"> <div class=\\\"weui_media_box weui_media_appmsg\\\"> <div class=weui_media_hd> <img class=weui_media_appmsg_thumb :src=order_product.product.avatar80x80 alt=\\\"\\\"> </div> <div class=weui_media_bd> <h4 class=weui_media_title>{{order_product.product.name}}</h4> <p class=weui_media_desc> <rater :font-size=25 :value.sync=comment.score slot=value active-color=#04BE02></rater> </p> </div> <div class=weui_media_extra> </div> </div> <div class=\\\"weui_cells weui_cells_form\\\"> <div class=weui_cell> <div class=\\\"weui_cell_bd weui_cell_primary\\\"> <textarea class=weui_textarea placeholder=写下购买体会或者享受食物后的感受，可以为其他小伙伴提供参考~ rows=3 v-model=comment.content></textarea> <div class=weui_textarea_counter><span>0</span>/200</div> </div> </div> </div> </div> </div> </div> <div style=width:100%;height:30px></div> <div class=\\\"bd spacing\\\"> <a @click=commentOn class=\\\"weui_btn weui_btn_primary\\\">保存</a> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/commenton.vue\n ** module id = 128\n ** module chunks = 12\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./commenton.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./commenton.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/user/commenton.vue\n ** module id = 154\n ** module chunks = 12\n **/"],"sourceRoot":""}