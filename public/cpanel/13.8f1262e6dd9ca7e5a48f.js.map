{"version":3,"sources":["webpack:///13.8f1262e6dd9ca7e5a48f.js","webpack:///nav-bar.vue?c024***********","webpack:///./src/components/nav-bar.vue?7820************","webpack:///./src/components/nav-bar.vue?a76f***********","webpack:///profile.vue","webpack:///./src/views/profile.vue?e9d5","webpack:///./src/views/profile.vue"],"names":["webpackJsonp",1,"module","exports","Object","defineProperty","value","methods","GoBack","this","$route","router","go","window","history","back",2,3,"__webpack_require__","__vue_script__","__vue_template__","__esModule","options","template",78,"_actions","vuex","getters","isLogged","state","merchant","access_token","actions","showAlert","showLoading","hideLoading","data","email","name","password","password_confirmation","current_password","route","transition","$http","get","then","response","next","error","update","formData","FormData","append","put","$set","updatePassword","components","nav-bar",107,128],"mappings":"AAAAA,cAAc,KAERC,EACA,SAASC,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,cACEI,SACEC,OAAQ,WACNC,KAAKC,OAAOC,OAAOC,GAAGC,OAAOC,QCGpCC,YDIMC,EACA,SAASd,EAAQC,GErBvBD,EAAAC,QAAA,qOF2BMc,EACA,SAASf,EAAQC,EAASe,GG5BhC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,GACAE,EAAAF,EAAA,GACAhB,EAAAC,QAAAgB,MACAjB,EAAAC,QAAAkB,aAAAnB,EAAAC,QAAAD,EAAAC,QAAAD,YACAkB,KACA,kBAAAlB,GAAAC,QAAAD,EAAAC,QAAAmB,UAAApB,EAAAC,QAAAmB,YAA+FpB,EAAAC,SAAAoB,SAAAH,IHoCzFI,GACA,SAAStB,EAAQC,EAASe,GAE/B,YAEAd,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,GIMV,IAAAmB,GAAAP,EAAA,EJDCf,eACEuB,MACEC,SACEC,SAAU,SAAkBC,GAC1B,MAAOA,GAAMC,SICtBF,UJCOG,aAAc,SAAsBF,GAClC,MAAOA,GAAMC,SAASA,SIA/BC,eJGKC,SIDLC,UAAAR,EAAAQ,UACAC,YAAAT,EAAAS,YAGAC,YAAAV,EAAAU,cJGGC,KAAM,WACJ,OACEN,UACEO,MIFT,GJGSC,KIFT,GJGSC,SIFT,GJGSC,sBIFT,GJGSC,iBICT,MJIGC,OACEN,KAAM,SAAcO,GAClBlC,KIHPyB,cJIOzB,KAAKmC,MAAMC,IAAI,mDAAqDd,aAActB,KAAKsB,eAAgBe,KAAK,SAAUC,GACpHJ,EAAWK,MACTlB,SAAUiB,EIFrBX,QJIU,SAAUW,GACXtC,KAAKwB,UAAUc,EAASX,KIFjCa,SJIOxC,KIDP0B,gBJIG5B,SACE2C,OAAQ,WACNzC,KIFPyB,aJIO,IAAIiB,GAAW,GIHtBC,SJIOD,GAASE,OAAO,eAAgB5C,KIFvCsB,cJIOoB,EAASE,OAAO,iBAAkB5C,KAAKqB,SIH9CQ,MJIOa,EAASE,OAAO,kBAAmB5C,KAAKqB,SIH/CO,OJIO5B,KAAKmC,MAAMU,IAAI,kDAAmDH,GAAUL,KAAK,SAAUC,GACzFtC,KAAK8C,KAAK,WAAYR,EAASX,KIHxCN,WJIU,SAAUiB,GACXtC,KAAKwB,UAAUc,EAASX,KIFjCa,SJIOxC,KIFP0B,eJIKqB,eAAgB,WACd/C,KIFPyB,aJIO,IAAIiB,GAAW,GIHtBC,SJIOD,GAASE,OAAO,eAAgB5C,KIFvCsB,cJIOoB,EAASE,OAAO,qBAAsB5C,KAAKqB,SIHlDQ,MJIOa,EAASE,OAAO,kCAAmC5C,KAAKqB,SIH/DU,uBJIOW,EAASE,OAAO,6BAA8B5C,KAAKqB,SIF1DW,kBJIOhC,KAAKmC,MAAMU,IAAI,2DAA4DH,GAAUL,KAAK,SAAUC,GAClGtC,KAAK8C,KAAK,WAAYR,EAASX,KIHxCN,WJIU,SAAUiB,GACXtC,KAAKwB,UAAUc,EAASX,KIFjCa,SJIOxC,KIDP0B,gBJIGsB,YACEC,UAAWxC,EIFhB,MJQMyC,IACA,SAASzD,EAAQC,GKxIvBD,EAAAC,QAAA,47CL8IMyD,IACA,SAAS1D,EAAQC,EAASe,GM/IhC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,IACAE,EAAAF,EAAA,KACAhB,EAAAC,QAAAgB,MACAjB,EAAAC,QAAAkB,aAAAnB,EAAAC,QAAAD,EAAAC,QAAAD,YACAkB,KACA,kBAAAlB,GAAAC,QAAAD,EAAAC,QAAAmB,UAAApB,EAAAC,QAAAmB,YAA+FpB,EAAAC,SAAAoB,SAAAH","file":"13.8f1262e6dd9ca7e5a48f.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  methods: {\n\t    GoBack: function GoBack() {\n\t      this.$route.router.go(window.history.back());\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"navbar navbar-light bg-faded navigation\\\"> <a class=\\\"nav-link btn btn-primary-outline btn-sm\\\" @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>\";\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(1)\n\t__vue_template__ = __webpack_require__(2)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 78:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(4);\n\t\n\texports.default = {\n\t  vuex: {\n\t    getters: {\n\t      isLogged: function isLogged(state) {\n\t        return state.merchant.isLogged;\n\t      },\n\t      access_token: function access_token(state) {\n\t        return state.merchant.merchant.access_token;\n\t      }\n\t    },\n\t    actions: {\n\t      showAlert: _actions.showAlert,\n\t      showLoading: _actions.showLoading,\n\t      hideLoading: _actions.hideLoading\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      merchant: {\n\t        email: '',\n\t        name: '',\n\t        password: '',\n\t        password_confirmation: '',\n\t        current_password: ''\n\t      }\n\t    };\n\t  },\n\t\n\t  route: {\n\t    data: function data(transition) {\n\t      this.showLoading();\n\t      this.$http.get('http://jiancan.me/api/m1/merchants/current.json', { access_token: this.access_token }).then(function (response) {\n\t        transition.next({\n\t          merchant: response.data\n\t        });\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    }\n\t  },\n\t  methods: {\n\t    update: function update() {\n\t      this.showLoading();\n\t\n\t      var formData = new FormData();\n\t      formData.append('access_token', this.access_token);\n\t\n\t      formData.append('merchant[name]', this.merchant.name);\n\t      formData.append('merchant[email]', this.merchant.email);\n\t      this.$http.put('http://jiancan.me/api/m1/merchants/current.json', formData).then(function (response) {\n\t        this.$set('merchant', response.data.merchant);\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    },\n\t    updatePassword: function updatePassword() {\n\t      this.showLoading();\n\t\n\t      var formData = new FormData();\n\t      formData.append('access_token', this.access_token);\n\t\n\t      formData.append('merchant[password]', this.merchant.name);\n\t      formData.append('merchant[password_confirmation]', this.merchant.password_confirmation);\n\t      formData.append('merchant[current_password]', this.merchant.current_password);\n\t\n\t      this.$http.put('http://jiancan.me/api/m1/merchants/current/password.json', formData).then(function (response) {\n\t        this.$set('merchant', response.data.merchant);\n\t      }, function (response) {\n\t        this.showAlert(response.data.error);\n\t      });\n\t      this.hideLoading();\n\t    }\n\t  },\n\t  components: {\n\t    'nav-bar': __webpack_require__(3)\n\t  }\n\t};\n\n/***/ },\n\n/***/ 107:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<nav-bar> <span slot=title class=title>账号管理</span> </nav-bar> <div class=content-form> <h5><i class=\\\"fa fa-database\\\"></i> 修改资料</h5> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\" for=merchant_email>邮箱</label> <div class=col-sm-10> <input v-model=merchant.email class=form-control type=text /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\" for=merchant_name>用户名</label> <div class=col-sm-10> <input v-model=merchant.name class=form-control type=text /> </div> </div> <div class=\\\"form-group row\\\"> <div class=\\\"col-sm-offset-2 col-sm-10\\\"> <button @click=update class=\\\"btn btn-primary\\\">保 存</button> </div> </div> <br/> <h5><i class=\\\"fa fa-key\\\"></i> 修改密码</h5> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">密码</label> <div class=col-sm-10> <input v-model=merchant.password class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">确认密码</label> <div class=col-sm-10> <input v-model=merchant.password_confirmation class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">当前密码</label> <div class=col-sm-10> <input v-model=merchant.current_password class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <div class=\\\"col-sm-offset-2 col-sm-10\\\"> <button @click=updatePassword class=\\\"btn btn-primary\\\">保 存</button> </div> </div> </div>\";\n\n/***/ },\n\n/***/ 128:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(78)\n\t__vue_template__ = __webpack_require__(107)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 13.8f1262e6dd9ca7e5a48f.js\n **/","<template>\n<div class=\"navbar navbar-light bg-faded navigation\">\n  <a class=\"nav-link btn btn-primary-outline btn-sm\" @click=\"GoBack\">\n    <i class=\"fa fa-arrow-left\"></i> 返回\n  </a>\n  <slot name=\"title\"></slot>\n  <slot name=\"right-content\"></slot>\n</div>\n</template>\n<script>\n  export default {\n    methods: {\n      GoBack () {\n        this.$route.router.go(window.history.back())\n      }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** nav-bar.vue?666ab58b\n **/","module.exports = \"<div class=\\\"navbar navbar-light bg-faded navigation\\\"> <a class=\\\"nav-link btn btn-primary-outline btn-sm\\\" @click=GoBack> <i class=\\\"fa fa-arrow-left\\\"></i> 返回 </a> <slot name=title></slot> <slot name=right-content></slot> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/nav-bar.vue\n ** module id = 2\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./nav-bar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./nav-bar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/nav-bar.vue\n ** module id = 3\n ** module chunks = 0 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n **/","<template>\n  <nav-bar>\n    <span slot=\"title\" class=\"title\">账号管理</span>\n  </nav-bar>\n  <div class=\"content-form\">\n    <h5><i class=\"fa fa-database\"></i> 修改资料</h5>\n    <div class=\"form-group row\">\n      <label class=\"col-sm-2 form-control-label\" for=\"merchant_email\">邮箱</label>\n      <div class=\"col-sm-10\">\n        <input v-model=\"merchant.email\" class=\"form-control\" type=\"text\" />\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label class=\"col-sm-2 form-control-label\" for=\"merchant_name\">用户名</label>\n      <div class=\"col-sm-10\">\n        <input v-model=\"merchant.name\" class=\"form-control\" type=\"text\" />\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <div class=\"col-sm-offset-2 col-sm-10\">\n        <button @click=\"update\" class=\"btn btn-primary\">保 存</button>\n      </div>\n    </div>\n    <br/>\n    <h5><i class=\"fa fa-key\"></i> 修改密码</h5>\n    <div class=\"form-group row\">\n      <label class=\"col-sm-2 form-control-label\">密码</label>\n      <div class=\"col-sm-10\">\n        <input v-model=\"merchant.password\" class=\"form-control\" type=\"password\" />\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label class=\"col-sm-2 form-control-label\">确认密码</label>\n      <div class=\"col-sm-10\">\n        <input v-model=\"merchant.password_confirmation\" class=\"form-control\" type=\"password\" />\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label class=\"col-sm-2 form-control-label\">当前密码</label>\n      <div class=\"col-sm-10\">\n        <input v-model=\"merchant.current_password\" class=\"form-control\" type=\"password\" />\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <div class=\"col-sm-offset-2 col-sm-10\">\n        <button @click=\"updatePassword\" class=\"btn btn-primary\">保 存</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { showAlert, showLoading, hideLoading } from '../vuex/actions'\n\n  export default {\n    vuex: {\n      getters: {\n        isLogged: state => state.merchant.isLogged,\n        access_token: state => state.merchant.merchant.access_token\n      },\n      actions: {\n        showAlert,\n        showLoading,\n        hideLoading\n      }\n    },\n    data () {\n      return {\n        merchant: {\n          email: '',\n          name: '',\n          password: '',\n          password_confirmation: '',\n          current_password: ''\n        }\n      }\n    },\n    route: {\n      data (transition) {\n        this.showLoading()\n        this.$http.get('http://jiancan.me/api/m1/merchants/current.json', { access_token: this.access_token }).then(function (response) {\n          transition.next({\n            merchant: response.data\n          })\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      }\n    },\n    methods: {\n      update () {\n        this.showLoading()\n\n        var formData = new FormData()\n        formData.append('access_token', this.access_token)\n\n        formData.append('merchant[name]', this.merchant.name)\n        formData.append('merchant[email]', this.merchant.email)\n        this.$http.put('http://jiancan.me/api/m1/merchants/current.json', formData).then(function (response) {\n          this.$set('merchant', response.data.merchant)\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      },\n      updatePassword () {\n        this.showLoading()\n\n        var formData = new FormData()\n        formData.append('access_token', this.access_token)\n\n        formData.append('merchant[password]', this.merchant.name)\n        formData.append('merchant[password_confirmation]', this.merchant.password_confirmation)\n        formData.append('merchant[current_password]', this.merchant.current_password)\n\n        this.$http.put('http://jiancan.me/api/m1/merchants/current/password.json', formData).then(function (response) {\n          this.$set('merchant', response.data.merchant)\n        }, function (response) {\n          this.showAlert(response.data.error)\n        })\n        this.hideLoading()\n      }\n    },\n    components: {\n      'nav-bar': require('../components/nav-bar.vue')\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** profile.vue?aa2637c4\n **/","module.exports = \"<nav-bar> <span slot=title class=title>账号管理</span> </nav-bar> <div class=content-form> <h5><i class=\\\"fa fa-database\\\"></i> 修改资料</h5> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\" for=merchant_email>邮箱</label> <div class=col-sm-10> <input v-model=merchant.email class=form-control type=text /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\" for=merchant_name>用户名</label> <div class=col-sm-10> <input v-model=merchant.name class=form-control type=text /> </div> </div> <div class=\\\"form-group row\\\"> <div class=\\\"col-sm-offset-2 col-sm-10\\\"> <button @click=update class=\\\"btn btn-primary\\\">保 存</button> </div> </div> <br/> <h5><i class=\\\"fa fa-key\\\"></i> 修改密码</h5> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">密码</label> <div class=col-sm-10> <input v-model=merchant.password class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">确认密码</label> <div class=col-sm-10> <input v-model=merchant.password_confirmation class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <label class=\\\"col-sm-2 form-control-label\\\">当前密码</label> <div class=col-sm-10> <input v-model=merchant.current_password class=form-control type=password /> </div> </div> <div class=\\\"form-group row\\\"> <div class=\\\"col-sm-offset-2 col-sm-10\\\"> <button @click=updatePassword class=\\\"btn btn-primary\\\">保 存</button> </div> </div> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/profile.vue\n ** module id = 107\n ** module chunks = 13\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./profile.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./profile.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/profile.vue\n ** module id = 128\n ** module chunks = 13\n **/"],"sourceRoot":""}